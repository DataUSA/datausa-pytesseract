export function __vite_legacy_guard(){import("data:text/javascript,")}import{r as e,c as t,R as r,a as n,g as a,_ as o,p as i,i as s,b as l,d as c,e as u,F as m,C as p,f as d,T as f,M as h,h as v,I as g,B as y,N as b,S as E,P as w,j as _,k as N,l as x,m as S,n as O,o as C,A as P,q as k,s as R,t as j,u as T,v as I,w as L,x as A,y as M,E as U,z as $,D,O as F,G as B,H as q,J as Q,K as z,L as V,Q as H,U as K,V as Y,W,X as G}from"./bp3.ce55ab8b.js";import"./icons.17a843a8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var J={};function X(e,t){return null!=e&&t in Object(e)}function Z(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map((function(e){if("constructor"===e||"__proto__"===e||"prototype"===e)return{};var t=/^\[(\d+)\]$/.exec(e);return t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.[\]])/g,"$1")}}))}function ee(e,t,r){var n=e,a=null;r=void 0===r?t.length:r;for(var o=0;o<r;o++){var i=t[o];n&&(n=void 0===i.p?n[i.i]:n[i.p],o===r-1&&(a=n))}return a}function te(e,t){var r=Z(t),n=r[r.length-1],a={parent:r.length>1?ee(e,r,r.length-1):e,name:n.p||n.i,value:ee(e,r)};return a.exists=X(a.parent,a.name),a}var re={hasProperty:X,getPathInfo:te,getPathValue:function(e,t){return te(e,t).value},setPathValue:function(e,t,r){return function(e,t,r){for(var n=e,a=r.length,o=null,i=0;i<a;i++){var s=null,l=null;if(o=r[i],i===a-1)n[s=void 0===o.p?o.i:o.p]=t;else if(void 0!==o.p&&n[o.p])n=n[o.p];else if(void 0!==o.i&&n[o.i])n=n[o.i];else{var c=r[i+1];s=void 0===o.p?o.i:o.p,l=void 0===c.p?[]:{},n[s]=l,n=n[s]}}}(e,r,Z(t)),e}};Object.defineProperty(J,"__esModule",{value:!0});var ne=re,ae=e.exports;function oe(e){var t=/{{1,2}(\d+|[a-z$_][a-z\d$_]*?(?:\.[a-z\d$_]*?)*?)}{1,2}/gi;return function(r,n){var a=ne.getPathInfo(e,r),o=a.exists?function(e,t){var r=t?t.n:void 0;if(null!=r){var n=e.name,a=e.parent;if(0==r&&ne.hasProperty(a,n+"_zero"))return a[n+"_zero"];if((r>1||r<1)&&ne.hasProperty(a,n+"_plural"))return a[n+"_plural"]}return e.value}(a,n):r;return n?(""+o).replace(t,(function(e,t){var r;return""+(null!==(r=n[t])&&void 0!==r?r:"")})):o}}J.translateFunctionFactory=oe;var ie=J.translationFactory=function(e){var t=ae.createContext(void 0),r=function(r){var n=ae.useState(r.defaultLocale||e.defaultLocale),a=n[0],o=n[1],i=ae.useMemo((function(){var t=r.translations,n=void 0===t?{}:t;if(!e.defaultTranslation&&!ne.hasProperty(n,a))throw new Error('Translation dictionary for locale "'+a+'" not provided.');return oe(n[a]||e.defaultTranslation)}),[a]);return ae.createElement(t.Provider,{value:{locale:a,setLocale:o,translate:i}},r.children)};return{TranslationConsumer:function(e){return ae.createElement(t.Consumer,void 0,(function(t){if(void 0===t)throw new Error("TranslationConsumer must be used within a TranslationProvider.");return e.children(t)}))},TranslationProvider:r,useTranslation:function(){var e=ae.useContext(t);if(void 0===e)throw new Error("useTranslation must be used within a TranslationProvider.");return e},withTranslation:function(e){var t=function(t){var n=t.children,a=t.translationDicts,o=t.translationLocale,i=
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(t,["children","translationDicts","translationLocale"]);return ae.createElement(r,{translations:a,defaultLocale:o},ae.createElement(e,i,n))};return t.displayName=(e.displayName||e.name)+"WithTranslation",t}}},se=function(e){return e&&e.Math==Math&&e},le=se("object"==typeof globalThis&&globalThis)||se("object"==typeof window&&window)||se("object"==typeof self&&self)||se("object"==typeof t&&t)||function(){return this}()||Function("return this")(),ce=function(e){try{return!!e()}catch(t){return!0}},ue=!ce((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),me=ue,pe=Function.prototype,de=pe.apply,fe=pe.call,he="object"==typeof Reflect&&Reflect.apply||(me?fe.bind(de):function(){return fe.apply(de,arguments)}),ve=ue,ge=Function.prototype,ye=ge.call,be=ve&&ge.bind.bind(ye,ye),Ee=function(e){return ve?be(e):function(){return ye.apply(e,arguments)}},we=Ee,_e=we({}.toString),Ne=we("".slice),xe=function(e){return Ne(_e(e),8,-1)},Se=xe,Oe=Ee,Ce=function(e){if("Function"===Se(e))return Oe(e)},Pe="object"==typeof document&&document.all,ke={all:Pe,IS_HTMLDDA:void 0===Pe&&void 0!==Pe},Re=ke.all,je=ke.IS_HTMLDDA?function(e){return"function"==typeof e||e===Re}:function(e){return"function"==typeof e},Te={},Ie=!ce((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Le=ue,Ae=Function.prototype.call,Me=Le?Ae.bind(Ae):function(){return Ae.apply(Ae,arguments)},Ue={},$e={}.propertyIsEnumerable,De=Object.getOwnPropertyDescriptor,Fe=De&&!$e.call({1:2},1);Ue.f=Fe?function(e){var t=De(this,e);return!!t&&t.enumerable}:$e;var Be,qe,Qe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ze=ce,Ve=xe,He=Object,Ke=Ce("".split),Ye=ze((function(){return!He("z").propertyIsEnumerable(0)}))?function(e){return"String"==Ve(e)?Ke(e,""):He(e)}:He,We=function(e){return null==e},Ge=We,Je=TypeError,Xe=function(e){if(Ge(e))throw Je("Can't call method on "+e);return e},Ze=Ye,et=Xe,tt=function(e){return Ze(et(e))},rt=je,nt=ke.all,at=ke.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:rt(e)||e===nt}:function(e){return"object"==typeof e?null!==e:rt(e)},ot={},it=ot,st=le,lt=je,ct=function(e){return lt(e)?e:void 0},ut=function(e,t){return arguments.length<2?ct(it[e])||ct(st[e]):it[e]&&it[e][t]||st[e]&&st[e][t]},mt=Ce({}.isPrototypeOf),pt=le,dt=ut("navigator","userAgent")||"",ft=pt.process,ht=pt.Deno,vt=ft&&ft.versions||ht&&ht.version,gt=vt&&vt.v8;gt&&(qe=(Be=gt.split("."))[0]>0&&Be[0]<4?1:+(Be[0]+Be[1])),!qe&&dt&&(!(Be=dt.match(/Edge\/(\d+)/))||Be[1]>=74)&&(Be=dt.match(/Chrome\/(\d+)/))&&(qe=+Be[1]);var yt=qe,bt=ce,Et=!!Object.getOwnPropertySymbols&&!bt((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),wt=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_t=ut,Nt=je,xt=mt,St=Object,Ot=wt?function(e){return"symbol"==typeof e}:function(e){var t=_t("Symbol");return Nt(t)&&xt(t.prototype,St(e))},Ct=String,Pt=je,kt=function(e){try{return Ct(e)}catch(t){return"Object"}},Rt=TypeError,jt=function(e){if(Pt(e))return e;throw Rt(kt(e)+" is not a function")},Tt=jt,It=We,Lt=Me,At=je,Mt=at,Ut=TypeError,$t={exports:{}},Dt=le,Ft=Object.defineProperty,Bt=function(e,t){try{Ft(Dt,e,{value:t,configurable:!0,writable:!0})}catch(r){Dt[e]=t}return t},qt=le["__core-js_shared__"]||Bt("__core-js_shared__",{});($t.exports=function(e,t){return qt[e]||(qt[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Qt=Xe,zt=Object,Vt=function(e){return zt(Qt(e))},Ht=Vt,Kt=Ce({}.hasOwnProperty),Yt=Object.hasOwn||function(e,t){return Kt(Ht(e),t)},Wt=Ce,Gt=0,Jt=Math.random(),Xt=Wt(1..toString),Zt=le,er=$t.exports,tr=Yt,rr=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Xt(++Gt+Jt,36)},nr=Et,ar=wt,or=er("wks"),ir=Zt.Symbol,sr=ir&&ir.for,lr=ar?ir:ir&&ir.withoutSetter||rr,cr=function(e){if(!tr(or,e)||!nr&&"string"!=typeof or[e]){var t="Symbol."+e;nr&&tr(ir,e)?or[e]=ir[e]:or[e]=ar&&sr?sr(t):lr(t)}return or[e]},ur=Me,mr=at,pr=Ot,dr=function(e,t){var r=e[t];return It(r)?void 0:Tt(r)},fr=function(e,t){var r,n;if("string"===t&&At(r=e.toString)&&!Mt(n=Lt(r,e)))return n;if(At(r=e.valueOf)&&!Mt(n=Lt(r,e)))return n;if("string"!==t&&At(r=e.toString)&&!Mt(n=Lt(r,e)))return n;throw Ut("Can't convert object to primitive value")},hr=TypeError,vr=cr("toPrimitive"),gr=function(e,t){if(!mr(e)||pr(e))return e;var r,n=dr(e,vr);if(n){if(void 0===t&&(t="default"),r=ur(n,e,t),!mr(r)||pr(r))return r;throw hr("Can't convert object to primitive value")}return void 0===t&&(t="number"),fr(e,t)},yr=Ot,br=function(e){var t=gr(e,"string");return yr(t)?t:t+""},Er=at,wr=le.document,_r=Er(wr)&&Er(wr.createElement),Nr=function(e){return _r?wr.createElement(e):{}},xr=!Ie&&!ce((function(){return 7!=Object.defineProperty(Nr("div"),"a",{get:function(){return 7}}).a})),Sr=Ie,Or=Me,Cr=Ue,Pr=Qe,kr=tt,Rr=br,jr=Yt,Tr=xr,Ir=Object.getOwnPropertyDescriptor;Te.f=Sr?Ir:function(e,t){if(e=kr(e),t=Rr(t),Tr)try{return Ir(e,t)}catch(r){}if(jr(e,t))return Pr(!Or(Cr.f,e,t),e[t])};var Lr=ce,Ar=je,Mr=/#|\.prototype\./,Ur=function(e,t){var r=Dr[$r(e)];return r==Br||r!=Fr&&(Ar(t)?Lr(t):!!t)},$r=Ur.normalize=function(e){return String(e).replace(Mr,".").toLowerCase()},Dr=Ur.data={},Fr=Ur.NATIVE="N",Br=Ur.POLYFILL="P",qr=Ur,Qr=jt,zr=ue,Vr=Ce(Ce.bind),Hr={},Kr=Ie&&ce((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Yr=at,Wr=String,Gr=TypeError,Jr=Ie,Xr=xr,Zr=Kr,en=function(e){if(Yr(e))return e;throw Gr(Wr(e)+" is not an object")},tn=br,rn=TypeError,nn=Object.defineProperty,an=Object.getOwnPropertyDescriptor;Hr.f=Jr?Zr?function(e,t,r){if(en(e),t=tn(t),en(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=an(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return nn(e,t,r)}:nn:function(e,t,r){if(en(e),t=tn(t),en(r),Xr)try{return nn(e,t,r)}catch(n){}if("get"in r||"set"in r)throw rn("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var on=Hr,sn=Qe,ln=Ie?function(e,t,r){return on.f(e,t,sn(1,r))}:function(e,t,r){return e[t]=r,e},cn=le,un=he,mn=Ce,pn=je,dn=Te.f,fn=qr,hn=ot,vn=function(e,t){return Qr(e),void 0===t?e:zr?Vr(e,t):function(){return e.apply(t,arguments)}},gn=ln,yn=Yt,bn=function(e){var t=function(r,n,a){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,a)}return un(e,this,arguments)};return t.prototype=e.prototype,t},En=function(e,t){var r,n,a,o,i,s,l,c,u=e.target,m=e.global,p=e.stat,d=e.proto,f=m?cn:p?cn[u]:(cn[u]||{}).prototype,h=m?hn:hn[u]||gn(hn,u,{})[u],v=h.prototype;for(a in t)r=!fn(m?a:u+(p?".":"#")+a,e.forced)&&f&&yn(f,a),i=h[a],r&&(s=e.dontCallGetSet?(c=dn(f,a))&&c.value:f[a]),o=r&&s?s:t[a],r&&typeof i==typeof o||(l=e.bind&&r?vn(o,cn):e.wrap&&r?bn(o):d&&pn(o)?mn(o):o,(e.sham||o&&o.sham||i&&i.sham)&&gn(l,"sham",!0),gn(h,a,l),d&&(yn(hn,n=u+"Prototype")||gn(hn,n,{}),gn(hn[n],a,o),e.real&&v&&!v[a]&&gn(v,a,o)))},wn=Math.ceil,_n=Math.floor,Nn=Math.trunc||function(e){var t=+e;return(t>0?_n:wn)(t)},xn=Nn,Sn=function(e){var t=+e;return t!=t||0===t?0:xn(t)},On=Sn,Cn=Math.max,Pn=Math.min,kn=Sn,Rn=Math.min,jn=function(e){return e>0?Rn(kn(e),9007199254740991):0},Tn=tt,In=function(e,t){var r=On(e);return r<0?Cn(r+t,0):Pn(r,t)},Ln=function(e){return jn(e.length)},An=function(e){return function(t,r,n){var a,o=Tn(t),i=Ln(o),s=In(n,i);if(e&&r!=r){for(;i>s;)if((a=o[s++])!=a)return!0}else for(;i>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},Mn={includes:An(!0),indexOf:An(!1)},Un=Yt,$n=tt,Dn=Mn.indexOf,Fn={},Bn=Ce([].push),qn=function(e,t){var r,n=$n(e),a=0,o=[];for(r in n)!Un(Fn,r)&&Un(n,r)&&Bn(o,r);for(;t.length>a;)Un(n,r=t[a++])&&(~Dn(o,r)||Bn(o,r));return o},Qn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zn=Object.keys||function(e){return qn(e,Qn)},Vn={};Vn.f=Object.getOwnPropertySymbols;var Hn=Ie,Kn=Ce,Yn=Me,Wn=ce,Gn=zn,Jn=Vn,Xn=Ue,Zn=Vt,ea=Ye,ta=Object.assign,ra=Object.defineProperty,na=Kn([].concat),aa=!ta||Wn((function(){if(Hn&&1!==ta({b:1},ta(ra({},"a",{enumerable:!0,get:function(){ra(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=ta({},e)[r]||Gn(ta({},t)).join("")!=n}))?function(e,t){for(var r=Zn(e),n=arguments.length,a=1,o=Jn.f,i=Xn.f;n>a;)for(var s,l=ea(arguments[a++]),c=o?na(Gn(l),o(l)):Gn(l),u=c.length,m=0;u>m;)s=c[m++],Hn&&!Yn(i,l,s)||(r[s]=l[s]);return r}:ta;En({target:"Object",stat:!0,arity:2,forced:Object.assign!==aa},{assign:aa});var oa=ot.Object.assign,ia=Ce([].slice),sa=Ce,la=jt,ca=at,ua=Yt,ma=ia,pa=ue,da=Function,fa=sa([].concat),ha=sa([].join),va={},ga=function(e,t,r){if(!ua(va,t)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";va[t]=da("C,a","return new C("+ha(n,",")+")")}return va[t](e,r)},ya=pa?da.bind:function(e){var t=la(this),r=t.prototype,n=ma(arguments,1),a=function(){var r=fa(n,ma(arguments));return this instanceof a?ga(t,r.length,r):t.apply(e,r)};return ca(r)&&(a.prototype=r),a};En({target:"Function",proto:!0,forced:Function.bind!==ya},{bind:ya});var ba=ot,Ea=function(e){return ba[e+"Prototype"]},wa=Ea("Function").bind,_a=mt,Na=wa,xa=Function.prototype,Sa=function(e){var t=e.bind;return e===xa||_a(xa,e)&&t===xa.bind?Na:t};function Oa(){var e;return Oa=oa?Sa(e=oa).call(e):function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}
/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ca=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var r=window.getSelection(),n=window.document.createRange();r.removeAllRanges(),n.selectNode(t),r.addRange(n);var a=!1;try{a=window.document.execCommand("copy")}catch(o){console.log("error",o)}return r.removeAllRanges(),window.document.body.removeChild(t),a?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))};function Pa(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var ka,Ra=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ja(e){if(!(t=Ra.exec(e)))throw new Error("invalid format: "+e);var t;return new Ta({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ta(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ia(e,t){var r=Pa(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}ja.prototype=Ta.prototype,Ta.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var La={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ia(100*e,t),r:Ia,s:function(e,t){var r=Pa(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(ka=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Pa(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Aa(e){return e}var Ma,Ua,$a=Array.prototype.map,Da=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Fa(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Aa:(t=$a.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,o=[],i=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[i=(i+1)%t.length];return o.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Aa:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}($a.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"â":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function m(e){var t=(e=ja(e)).fill,r=e.align,m=e.sign,p=e.symbol,d=e.zero,f=e.width,h=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(h=!0,y="g"):La[y]||(void 0===v&&(v=12),g=!0,y="g"),(d||"0"===t&&"="===r)&&(d=!0,t="0",r="=");var b="$"===p?a:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",E="$"===p?o:/[%p]/.test(y)?l:"",w=La[y],_=/[defgprs%]/.test(y);function N(e){var a,o,l,p=b,N=E;if("c"===y)N=w(e)+N,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),v),g&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),x&&0==+e&&"+"!==m&&(x=!1),p=(x?"("===m?m:c:"-"===m||"("===m?"":m)+p,N=("s"===y?Da[8+ka/3]:"")+N+(x&&"("===m?")":""),_)for(a=-1,o=e.length;++a<o;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}h&&!d&&(e=n(e,1/0));var S=p.length+e.length+N.length,O=S<f?new Array(f-S+1).join(t):"";switch(h&&d&&(e=n(O+e,O.length?f-N.length:1/0),O=""),r){case"<":e=p+e+N+O;break;case"=":e=p+O+e+N;break;case"^":e=O.slice(0,S=O.length>>1)+p+e+N+O.slice(S);break;default:e=O+p+e+N}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),N.toString=function(){return e+""},N}return{format:m,formatPrefix:function(e,t){var r=m(((e=ja(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(function(e){return(e=Pa(Math.abs(e)))?e[1]:NaN}(t)/3))),a=Math.pow(10,-n),o=Da[8+n/3];return function(e){return r(a*e)+o}}}}Ma=Fa({thousands:",",grouping:[3],currency:["$",""]}),Ua=Ma.format,Ma.formatPrefix;var Ba={"en-GB":{separator:"",suffixes:["y","z","a","f","p","n","Âµ","m","","k","M","B","T","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["Â£",""]},"en-US":{separator:"",suffixes:["y","z","a","f","p","n","Âµ","m","","k","M","B","T","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["$",""]},"es-CL":{separator:"",suffixes:["y","z","a","f","p","n","Âµ","m","","k","M","MM","B","T","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["$",""]},"es-MX":{separator:"",suffixes:["y","z","a","f","p","n","Âµ","m","","k","M","MM","B","T","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["$",""]},"es-ES":{separator:"",suffixes:["y","z","a","f","p","n","Âµ","m","","k","mm","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["â¬",""]},"et-EE":{separator:" ",suffixes:["y","z","a","f","p","n","Âµ","m","","tuhat","miljonit","miljardit","triljonit","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["","eurot"]},"fr-FR":{suffixes:["y","z","a","f","p","n","Âµ","m","","k","m","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["â¬",""]}};function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qa=function(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)};function za(e,t,r){var n=0,a=parseFloat(e.replace("â","-"),10);a&&(a<0&&(a*=-1),n=1+Math.floor(1e-12+Math.log(a)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3))));var o=r[8+n/3];return{number:Qa(o.scale(a),t),symbol:o.symbol}}function Va(e,t){var r=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/r}:function(e){return e*r},symbol:e}}function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!isFinite(e))return"N/A";var n,a=(e*=1)<0,o=e.toString().split(".")[0].replace("-","").length,i="object"===qa(t)?t:Ba[t]||Ba["en-US"],s=i.suffixes.map(Va),l=i.delimiters.decimal||".",c=i.separator||"",u=i.delimiters.thousands||",",m=Fa({currency:i.currency||["$",""],decimal:l,grouping:i.grouping||[3],thousands:u});if(r)n=m.format(r)(e);else if(0===e)n="0";else if(o>=3){var p=za(m.format(".3r")(e),2,s),d=parseFloat(p.number).toString().replace(".",l),f=p.symbol;n="".concat(d).concat(c).concat(f)}else n=3===o?m.format(",f")(e):e<1&&e>-1?m.format(".2g")(e):m.format(".3g")(e);return"".concat(a&&"â"!==n.charAt(0)?"â":"").concat(n).replace(/\â/g,"-").replace(/(\.[0]*[1-9]*)[0]*$/g,"$1").replace(/\.[0]*$/g,"")}var Ka=Mn.includes,Ya=function(){};En({target:"Array",proto:!0,forced:ce((function(){return!Array(1).includes()}))},{includes:function(e){return Ka(this,e,arguments.length>1?arguments[1]:void 0)}}),Ya();var Wa=Ea("Array").includes,Ga=at,Ja=xe,Xa=cr("match"),Za=function(e){var t;return Ga(e)&&(void 0!==(t=e[Xa])?!!t:"RegExp"==Ja(e))},eo=TypeError,to={};to[cr("toStringTag")]="z";var ro="[object z]"===String(to),no=je,ao=xe,oo=cr("toStringTag"),io=Object,so="Arguments"==ao(function(){return arguments}()),lo=ro?ao:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=io(e),oo))?r:so?ao(t):"Object"==(n=ao(t))&&no(t.callee)?"Arguments":n},co=String,uo=cr("match"),mo=En,po=function(e){if(Za(e))throw eo("The method doesn't accept regular expressions");return e},fo=Xe,ho=function(e){if("Symbol"===lo(e))throw TypeError("Cannot convert a Symbol value to a string");return co(e)},vo=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[uo]=!1,"/./"[e](t)}catch(n){}}return!1},go=Ce("".indexOf);mo({target:"String",proto:!0,forced:!vo("includes")},{includes:function(e){return!!~go(ho(fo(this)),ho(po(e)),arguments.length>1?arguments[1]:void 0)}});var yo=Ea("String").includes,bo=mt,Eo=Wa,wo=yo,_o=Array.prototype,No=String.prototype,xo=function(e){var t=e.includes;return e===_o||bo(_o,e)&&t===_o.includes?Eo:"string"==typeof e||e===No||bo(No,e)&&t===No.includes?wo:t},So=r.createContext(null);var Oo=function(e){e()};function Co(){var e=Oo,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Po={notify:function(){},get:function(){return[]}};function ko(e,t){var r,n=Po;function a(){i.onStateChange&&i.onStateChange()}function o(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=Co())}var i={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=Po)},getListeners:function(){return n}};return i}var Ro="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.exports.useLayoutEffect:e.exports.useEffect;function jo(t){var n=t.store,a=t.context,o=t.children,i=e.exports.useMemo((function(){var e=ko(n);return{store:n,subscription:e}}),[n]),s=e.exports.useMemo((function(){return n.getState()}),[n]);Ro((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,s]);var l=a||So;return r.createElement(l.Provider,{value:i},o)}var To={exports:{}},Io={},Lo="function"==typeof Symbol&&Symbol.for,Ao=Lo?Symbol.for("react.element"):60103,Mo=Lo?Symbol.for("react.portal"):60106,Uo=Lo?Symbol.for("react.fragment"):60107,$o=Lo?Symbol.for("react.strict_mode"):60108,Do=Lo?Symbol.for("react.profiler"):60114,Fo=Lo?Symbol.for("react.provider"):60109,Bo=Lo?Symbol.for("react.context"):60110,qo=Lo?Symbol.for("react.async_mode"):60111,Qo=Lo?Symbol.for("react.concurrent_mode"):60111,zo=Lo?Symbol.for("react.forward_ref"):60112,Vo=Lo?Symbol.for("react.suspense"):60113,Ho=Lo?Symbol.for("react.suspense_list"):60120,Ko=Lo?Symbol.for("react.memo"):60115,Yo=Lo?Symbol.for("react.lazy"):60116,Wo=Lo?Symbol.for("react.block"):60121,Go=Lo?Symbol.for("react.fundamental"):60117,Jo=Lo?Symbol.for("react.responder"):60118,Xo=Lo?Symbol.for("react.scope"):60119;function Zo(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Ao:switch(e=e.type){case qo:case Qo:case Uo:case Do:case $o:case Vo:return e;default:switch(e=e&&e.$$typeof){case Bo:case zo:case Yo:case Ko:case Fo:return e;default:return t}}case Mo:return t}}}function ei(e){return Zo(e)===Qo}Io.AsyncMode=qo,Io.ConcurrentMode=Qo,Io.ContextConsumer=Bo,Io.ContextProvider=Fo,Io.Element=Ao,Io.ForwardRef=zo,Io.Fragment=Uo,Io.Lazy=Yo,Io.Memo=Ko,Io.Portal=Mo,Io.Profiler=Do,Io.StrictMode=$o,Io.Suspense=Vo,Io.isAsyncMode=function(e){return ei(e)||Zo(e)===qo},Io.isConcurrentMode=ei,Io.isContextConsumer=function(e){return Zo(e)===Bo},Io.isContextProvider=function(e){return Zo(e)===Fo},Io.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ao},Io.isForwardRef=function(e){return Zo(e)===zo},Io.isFragment=function(e){return Zo(e)===Uo},Io.isLazy=function(e){return Zo(e)===Yo},Io.isMemo=function(e){return Zo(e)===Ko},Io.isPortal=function(e){return Zo(e)===Mo},Io.isProfiler=function(e){return Zo(e)===Do},Io.isStrictMode=function(e){return Zo(e)===$o},Io.isSuspense=function(e){return Zo(e)===Vo},Io.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Uo||e===Qo||e===Do||e===$o||e===Vo||e===Ho||"object"==typeof e&&null!==e&&(e.$$typeof===Yo||e.$$typeof===Ko||e.$$typeof===Fo||e.$$typeof===Bo||e.$$typeof===zo||e.$$typeof===Go||e.$$typeof===Jo||e.$$typeof===Xo||e.$$typeof===Wo)},Io.typeOf=Zo,To.exports=Io;var ti=To.exports,ri={};ri[ti.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ri[ti.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var ni={},ai=60103,oi=60106,ii=60107,si=60108,li=60114,ci=60109,ui=60110,mi=60112,pi=60113,di=60120,fi=60115,hi=60116,vi=60121,gi=60122,yi=60117,bi=60129,Ei=60131;
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */if("function"==typeof Symbol&&Symbol.for){var wi=Symbol.for;ai=wi("react.element"),oi=wi("react.portal"),ii=wi("react.fragment"),si=wi("react.strict_mode"),li=wi("react.profiler"),ci=wi("react.provider"),ui=wi("react.context"),mi=wi("react.forward_ref"),pi=wi("react.suspense"),di=wi("react.suspense_list"),fi=wi("react.memo"),hi=wi("react.lazy"),vi=wi("react.block"),gi=wi("react.server.block"),yi=wi("react.fundamental"),bi=wi("react.debug_trace_mode"),Ei=wi("react.legacy_hidden")}function _i(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ai:switch(e=e.type){case ii:case li:case si:case pi:case di:return e;default:switch(e=e&&e.$$typeof){case ui:case mi:case hi:case fi:case ci:return e;default:return t}}case oi:return t}}}var Ni=ci,xi=ai,Si=mi,Oi=ii,Ci=hi,Pi=fi,ki=oi,Ri=li,ji=si,Ti=pi;function Ii(){return e.exports.useContext(So)}function Li(t){void 0===t&&(t=So);var r=t===So?Ii:function(){return e.exports.useContext(t)};return function(){return r().store}}ni.ContextConsumer=ui,ni.ContextProvider=Ni,ni.Element=xi,ni.ForwardRef=Si,ni.Fragment=Oi,ni.Lazy=Ci,ni.Memo=Pi,ni.Portal=ki,ni.Profiler=Ri,ni.StrictMode=ji,ni.Suspense=Ti,ni.isAsyncMode=function(){return!1},ni.isConcurrentMode=function(){return!1},ni.isContextConsumer=function(e){return _i(e)===ui},ni.isContextProvider=function(e){return _i(e)===ci},ni.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ai},ni.isForwardRef=function(e){return _i(e)===mi},ni.isFragment=function(e){return _i(e)===ii},ni.isLazy=function(e){return _i(e)===hi},ni.isMemo=function(e){return _i(e)===fi},ni.isPortal=function(e){return _i(e)===oi},ni.isProfiler=function(e){return _i(e)===li},ni.isStrictMode=function(e){return _i(e)===si},ni.isSuspense=function(e){return _i(e)===pi},ni.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===ii||e===li||e===bi||e===si||e===pi||e===di||e===Ei||"object"==typeof e&&null!==e&&(e.$$typeof===hi||e.$$typeof===fi||e.$$typeof===ci||e.$$typeof===ui||e.$$typeof===mi||e.$$typeof===yi||e.$$typeof===vi||e[0]===gi)},ni.typeOf=_i;var Ai=Li();function Mi(e){void 0===e&&(e=So);var t=e===So?Ai:Li(e);return function(){return t().dispatch}}var Ui=Mi(),$i=function(e,t){return e===t};function Di(t){void 0===t&&(t=So);var r=t===So?Ii:function(){return e.exports.useContext(t)};return function(t,n){void 0===n&&(n=$i);var a=r(),o=function(t,r,n,a){var o,i=e.exports.useReducer((function(e){return e+1}),0)[1],s=e.exports.useMemo((function(){return ko(n,a)}),[n,a]),l=e.exports.useRef(),c=e.exports.useRef(),u=e.exports.useRef(),m=e.exports.useRef(),p=n.getState();try{if(t!==c.current||p!==u.current||l.current){var d=t(p);o=void 0!==m.current&&r(d,m.current)?m.current:d}else o=m.current}catch(f){throw l.current&&(f.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),f}return Ro((function(){c.current=t,u.current=p,m.current=o,l.current=void 0})),Ro((function(){function e(){try{var e=n.getState();if(e===u.current)return;var t=c.current(e);if(r(t,m.current))return;m.current=t,u.current=e}catch(f){l.current=f}i()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(t,n,a.store,a.subscription);return e.exports.useDebugValue(o),o}}var Fi,Bi=Di();Fi=n.exports.unstable_batchedUpdates,Oo=Fi;var qi,Qi=e=>{const t=/^([^"=]*)=([\s\S]*)/,r=/([^[]*)\[([^"\]]*)?\]([\s\S]*)?/,n=/[^=]*\?([\s\S]*)/,a=/^([^"&]*)&([\s\S]*)/,o=/^(true|false)$/,i=/#.*$/,s=/^\d*$/,l=e=>Number.isNaN(+e)?o.test(e)?"true"===e:"null"!==e&&e?e:null:+e,c=(e,[t,n,a],o=t.match(r))=>(o?([,t,a]=o,a=s.test(a)?parseInt(a,10):a,e[t]=e[t]||(/undefined|number/.test(typeof a)?[]:{}),a=/string|number/.test(typeof a)?a:e[t].length,o[3]?e[t]=c(e[t],[a+o[3],n]):n&&(e[t][a]=l(n))):n&&(e[t]=l(n)),e),u=(e,t=[],r=e.match(a))=>(r?t=u(r[2],t.concat(r[1])):e&&(t=t.concat(e)),t);return"string"==typeof e?u((e=>decodeURIComponent(e.replace(/\+/g," ")))((e=>e.replace(i,""))((m=e,m.replace(n,((e,t)=>t)))))).reduce(((e,r)=>c(e,((e,r=e.match(t))=>r?r.slice(1):[e])(r))),{}):{};var m},zi=(e,t={})=>{const{sorted:r,skipIndex:n,ignorenull:a,skipBracket:o,useDot:i,whitespace:s="+"}=t,l=e=>String(e).replace(/[^ !'()~*]/gu,encodeURIComponent).replace(/ /g,s).replace(/[!'()~*]/g,(e=>`%${e.charCodeAt().toString(16).slice(-2).toUpperCase()}`)),c=(e,t=Object.keys(e))=>r?t.sort():t,u=e=>e.filter((e=>e)).join("&"),m=(e,t,r=typeof t,s=null)=>(t===s?s=a?s:l(e)+"="+s:/string|number|boolean/.test(r)?s=l(e)+"="+l(t):Array.isArray(t)?s=((e,t,r=(o?"":"[]"))=>t.length?u(t.map(((t,a)=>m(n?e+r:e+"["+a+"]",t)))):l(e+r))(e,t):t instanceof Set?s=((e,t)=>u(Array.from(t).map((t=>m(e,t)))))(e,t):"object"===r&&(s=((e,t)=>u(c(t).map((r=>m(i?`${e}.${r}`:`${e}[${r}]`,t[r])))))(e,t)),s);return e&&u(c(e).map((t=>m(t,e[t]))))},Vi={exports:{}},Hi=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},Ki=Hi,Yi=Object.prototype.toString,Wi=(qi=Object.create(null),function(e){var t=Yi.call(e);return qi[t]||(qi[t]=t.slice(8,-1).toLowerCase())});function Gi(e){return e=e.toLowerCase(),function(t){return Wi(t)===e}}function Ji(e){return Array.isArray(e)}function Xi(e){return void 0===e}var Zi=Gi("ArrayBuffer");function es(e){return null!==e&&"object"==typeof e}function ts(e){if("object"!==Wi(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var rs=Gi("Date"),ns=Gi("File"),as=Gi("Blob"),os=Gi("FileList");function is(e){return"[object Function]"===Yi.call(e)}var ss=Gi("URLSearchParams");function ls(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Ji(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var cs,us=(cs="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return cs&&e instanceof cs}),ms={isArray:Ji,isArrayBuffer:Zi,isBuffer:function(e){return null!==e&&!Xi(e)&&null!==e.constructor&&!Xi(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||Yi.call(e)===t||is(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Zi(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:es,isPlainObject:ts,isUndefined:Xi,isDate:rs,isFile:ns,isBlob:as,isFunction:is,isStream:function(e){return es(e)&&is(e.pipe)},isURLSearchParams:ss,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ls,merge:function e(){var t={};function r(r,n){ts(t[n])&&ts(r)?t[n]=e(t[n],r):ts(r)?t[n]=e({},r):Ji(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)ls(arguments[n],r);return t},extend:function(e,t,r){return ls(t,(function(t,n){e[n]=r&&"function"==typeof t?Ki(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,a,o,i={};t=t||{};do{for(a=(n=Object.getOwnPropertyNames(e)).length;a-- >0;)i[o=n[a]]||(t[o]=e[o],i[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Wi,kindOfTest:Gi,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(Xi(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:us,isFileList:os},ps=ms;function ds(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fs=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(ps.isURLSearchParams(t))n=t.toString();else{var a=[];ps.forEach(t,(function(e,t){null!=e&&(ps.isArray(e)?t+="[]":e=[e],ps.forEach(e,(function(e){ps.isDate(e)?e=e.toISOString():ps.isObject(e)&&(e=JSON.stringify(e)),a.push(ds(t)+"="+ds(e))})))})),n=a.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},hs=ms;function vs(){this.handlers=[]}vs.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},vs.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},vs.prototype.forEach=function(e){hs.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var gs=vs,ys=ms,bs=ms;function Es(e,t,r,n,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}bs.inherits(Es,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ws=Es.prototype,_s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){_s[e]={value:e}})),Object.defineProperties(Es,_s),Object.defineProperty(ws,"isAxiosError",{value:!0}),Es.from=function(e,t,r,n,a,o){var i=Object.create(ws);return bs.toFlatObject(e,i,(function(e){return e!==Error.prototype})),Es.call(i,e.message,t,r,n,a),i.name=e.name,o&&Object.assign(i,o),i};var Ns=Es,xs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ss=ms;var Os=function(e,t){t=t||new FormData;var r=[];function n(e){return null===e?"":Ss.isDate(e)?e.toISOString():Ss.isArrayBuffer(e)||Ss.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(Ss.isPlainObject(a)||Ss.isArray(a)){if(-1!==r.indexOf(a))throw Error("Circular reference detected in "+o);r.push(a),Ss.forEach(a,(function(r,a){if(!Ss.isUndefined(r)){var i,s=o?o+"."+a:a;if(r&&!o&&"object"==typeof r)if(Ss.endsWith(a,"{}"))r=JSON.stringify(r);else if(Ss.endsWith(a,"[]")&&(i=Ss.toArray(r)))return void i.forEach((function(e){!Ss.isUndefined(e)&&t.append(s,n(e))}));e(r,s)}})),r.pop()}else t.append(o,n(a))}(e),t},Cs=Ns,Ps=ms,ks=Ps.isStandardBrowserEnv()?{write:function(e,t,r,n,a,o){var i=[];i.push(e+"="+encodeURIComponent(t)),Ps.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Ps.isString(n)&&i.push("path="+n),Ps.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Rs=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},js=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Ts=function(e,t){return e&&!Rs(t)?js(e,t):t},Is=ms,Ls=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],As=ms,Ms=As.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=As.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Us=Ns;function $s(e){Us.call(this,null==e?"canceled":e,Us.ERR_CANCELED),this.name="CanceledError"}ms.inherits($s,Us,{__CANCEL__:!0});var Ds=$s,Fs=ms,Bs=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Cs("Request failed with status code "+r.status,[Cs.ERR_BAD_REQUEST,Cs.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)},qs=ks,Qs=fs,zs=Ts,Vs=function(e){var t,r,n,a={};return e?(Is.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=Is.trim(e.substr(0,n)).toLowerCase(),r=Is.trim(e.substr(n+1)),t){if(a[t]&&Ls.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a},Hs=Ms,Ks=xs,Ys=Ns,Ws=Ds,Gs=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},Js=function(e){return new Promise((function(t,r){var n,a=e.data,o=e.headers,i=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Fs.isFormData(a)&&Fs.isStandardBrowserEnv()&&delete o["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(c+":"+u)}var m=zs(e.baseURL,e.url);function p(){if(l){var n="getAllResponseHeaders"in l?Vs(l.getAllResponseHeaders()):null,a={data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:e,request:l};Bs((function(e){t(e),s()}),(function(e){r(e),s()}),a),l=null}}if(l.open(e.method.toUpperCase(),Qs(m,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(p)},l.onabort=function(){l&&(r(new Ys("Request aborted",Ys.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new Ys("Network Error",Ys.ERR_NETWORK,e,l,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||Ks;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new Ys(t,n.clarifyTimeoutError?Ys.ETIMEDOUT:Ys.ECONNABORTED,e,l)),l=null},Fs.isStandardBrowserEnv()){var d=(e.withCredentials||Hs(m))&&e.xsrfCookieName?qs.read(e.xsrfCookieName):void 0;d&&(o[e.xsrfHeaderName]=d)}"setRequestHeader"in l&&Fs.forEach(o,(function(e,t){void 0===a&&"content-type"===t.toLowerCase()?delete o[t]:l.setRequestHeader(t,e)})),Fs.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),i&&"json"!==i&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(n=function(e){l&&(r(!e||e&&e.type?new Ws:e),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n))),a||(a=null);var f=Gs(m);f&&-1===["http","https","file"].indexOf(f)?r(new Ys("Unsupported protocol "+f+":",Ys.ERR_BAD_REQUEST,e)):l.send(a)}))},Xs=ms,Zs=function(e,t){ys.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},el=Ns,tl=Os,rl={"Content-Type":"application/x-www-form-urlencoded"};function nl(e,t){!Xs.isUndefined(e)&&Xs.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var al,ol={transitional:xs,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(al=Js),al),transformRequest:[function(e,t){if(Zs(t,"Accept"),Zs(t,"Content-Type"),Xs.isFormData(e)||Xs.isArrayBuffer(e)||Xs.isBuffer(e)||Xs.isStream(e)||Xs.isFile(e)||Xs.isBlob(e))return e;if(Xs.isArrayBufferView(e))return e.buffer;if(Xs.isURLSearchParams(e))return nl(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=Xs.isObject(e),a=t&&t["Content-Type"];if((r=Xs.isFileList(e))||n&&"multipart/form-data"===a){var o=this.env&&this.env.FormData;return tl(r?{"files[]":e}:e,o&&new o)}return n||"application/json"===a?(nl(t,"application/json"),function(e,t,r){if(Xs.isString(e))try{return(t||JSON.parse)(e),Xs.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||ol.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&Xs.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a){if("SyntaxError"===o.name)throw el.from(o,el.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Xs.forEach(["delete","get","head"],(function(e){ol.headers[e]={}})),Xs.forEach(["post","put","patch"],(function(e){ol.headers[e]=Xs.merge(rl)}));var il=ol,sl=ms,ll=il,cl=function(e){return!(!e||!e.__CANCEL__)},ul=ms,ml=function(e,t,r){var n=this||ll;return sl.forEach(r,(function(r){e=r.call(n,e,t)})),e},pl=cl,dl=il,fl=Ds;function hl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fl}var vl=ms,gl=function(e,t){t=t||{};var r={};function n(e,t){return vl.isPlainObject(e)&&vl.isPlainObject(t)?vl.merge(e,t):vl.isPlainObject(t)?vl.merge({},t):vl.isArray(t)?t.slice():t}function a(r){return vl.isUndefined(t[r])?vl.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function o(e){if(!vl.isUndefined(t[e]))return n(void 0,t[e])}function i(r){return vl.isUndefined(t[r])?vl.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function s(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s};return vl.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||a,n=t(e);vl.isUndefined(n)&&t!==s||(r[e]=n)})),r},yl="0.27.2",bl=yl,El=Ns,wl={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){wl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var _l={};wl.transitional=function(e,t,r){function n(e,t){return"[Axios v"+bl+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,a,o){if(!1===e)throw new El(n(a," has been removed"+(t?" in "+t:"")),El.ERR_DEPRECATED);return t&&!_l[a]&&(_l[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,o)}};var Nl=ms,xl=fs,Sl=gs,Ol=function(e){return hl(e),e.headers=e.headers||{},e.data=ml.call(e,e.data,e.headers,e.transformRequest),e.headers=ul.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ul.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||dl.adapter)(e).then((function(t){return hl(e),t.data=ml.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return pl(t)||(hl(e),t&&t.response&&(t.response.data=ml.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Cl=gl,Pl=Ts,kl={assertOptions:function(e,t,r){if("object"!=typeof e)throw new El("options must be an object",El.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],i=t[o];if(i){var s=e[o],l=void 0===s||i(s,o,e);if(!0!==l)throw new El("option "+o+" must be "+l,El.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new El("Unknown option "+o,El.ERR_BAD_OPTION)}},validators:wl},Rl=kl.validators;function jl(e){this.defaults=e,this.interceptors={request:new Sl,response:new Sl}}jl.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=Cl(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&kl.assertOptions(r,{silentJSONParsing:Rl.transitional(Rl.boolean),forcedJSONParsing:Rl.transitional(Rl.boolean),clarifyTimeoutError:Rl.transitional(Rl.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!a){var s=[Ol,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(i),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var l=t;n.length;){var c=n.shift(),u=n.shift();try{l=c(l)}catch(m){u(m);break}}try{o=Ol(l)}catch(m){return Promise.reject(m)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},jl.prototype.getUri=function(e){e=Cl(this.defaults,e);var t=Pl(e.baseURL,e.url);return xl(t,e.params,e.paramsSerializer)},Nl.forEach(["delete","get","head","options"],(function(e){jl.prototype[e]=function(t,r){return this.request(Cl(r||{},{method:e,url:t,data:(r||{}).data}))}})),Nl.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(Cl(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}jl.prototype[e]=t(),jl.prototype[e+"Form"]=t(!0)}));var Tl=jl,Il=Ds;function Ll(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new Il(e),t(r.reason))}))}Ll.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ll.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Ll.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Ll.source=function(){var e;return{token:new Ll((function(t){e=t})),cancel:e}};var Al=Ll,Ml=ms,Ul=ms,$l=Hi,Dl=Tl,Fl=gl;var Bl=function e(t){var r=new Dl(t),n=$l(Dl.prototype.request,r);return Ul.extend(n,Dl.prototype,r),Ul.extend(n,r),n.create=function(r){return e(Fl(t,r))},n}(il);Bl.Axios=Dl,Bl.CanceledError=Ds,Bl.CancelToken=Al,Bl.isCancel=cl,Bl.VERSION=yl,Bl.toFormData=Os,Bl.AxiosError=Ns,Bl.Cancel=Bl.CanceledError,Bl.all=function(e){return Promise.all(e)},Bl.spread=function(e){return function(t){return e.apply(null,t)}},Bl.isAxiosError=function(e){return Ml.isObject(e)&&!0===e.isAxiosError},Vi.exports=Bl,Vi.exports.default=Bl;var ql,Ql=Vi.exports,zl={exports:{}};ql=zl,function(e,t,r){ql.exports?ql.exports=r():t.urljoin=r()}(0,t,(function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var a=e[n];if("string"!=typeof a)throw new TypeError("Url must be a string. Received "+a);""!==a&&(n>0&&(a=a.replace(/^[\/]+/,"")),a=n<e.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),t.push(a))}var o=t.join("/"),i=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o=i.shift()+(i.length>0?"?":"")+i.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}}));var Vl,Hl,Kl,Yl,Wl,Gl,Jl,Xl,Zl,ec,tc,rc,nc,ac,oc,ic,sc=zl.exports;
/*!
 * @datawheel/olap-client 2.0.0 (https://github.com/Datawheel/olap-client)
 * rev 042f2ad
 *
 * Copyright (c) Datawheel, LLC
 * Licensed under MIT
 */class lc{constructor(e){this.store=new Map,this.filled=!1,this.keygen=e}declareFilled(){this.filled=!0}getAllItems(e){const t=this.filled?[...this.store.values()]:e();return Promise.resolve(t).then((e=>{const t=this.keygen;return this.filled=!0,this.store=new Map(e.map((e=>[t(e),e]))),e}))}getItem(e,t){const r=this.store.get(e)||t();return Promise.resolve(r).then((e=>(this.store.set(this.keygen(e),e),e)))}getKeygen(){return this.keygen}}function cc(e,t){t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((r=>{if("constructor"!==r){const n=Object.getOwnPropertyDescriptor(t.prototype,r);n&&Object.defineProperty(e.prototype,r,n)}}))}))}class uc{get annotations(){return this._source.annotations}getAnnotation(e,t){const r=this._source.annotations[e];if(void 0!==r)return r;if(void 0!==t)return t;throw new Error(`Annotation ${e} does not exist in ${this.constructor.name} ${this}.`)}getLocaleAnnotation(e,t,r){const n=this._source.annotations[`${e}_${t}`];return void 0!==n?n:this.getAnnotation(e,r)}}class mc{get caption(){return this._source.caption||this._source.name}get fullName(){return this._source.fullName||this._source.name}get name(){return this._source.name}}class pc{toJSON(){return this._source}toString(){return this._source.uri}}class dc{constructor(e,t){this._parent=t,this._source=e}static isProperty(e){return Boolean(e&&e._source&&"property"===e._source._type)}static isPropertyDescriptor(e){return Boolean(e&&e.property&&"string"==typeof e.property&&(!e.level||"string"==typeof e.level))}get captionSet(){return this._source.captionSet||""}get cube(){return this.level.cube}get descriptor(){return Object.assign(Object.assign({},this.level.descriptor),{property:this.name})}get fullName(){return this.level.fullName+"."+this.name}get level(){if(!this._parent)throw new Error(`Property ${this} doesn't have an associated parent hierarchy.`);return this._parent}get uniqueName(){return this._source.uniqueName||this._source.name}matches(e){if("string"==typeof e)return this._source.uniqueName===e||this.fullName===e||this._source.name===e;if(dc.isPropertyDescriptor(e)){const t=this._parent?this.level:void 0;return this.matches(e.property)&&(!t||(!e.level||t.matches(e.level))&&(!e.hierarchy||e.hierarchy===t.hierarchy.name)&&(!e.dimension||e.dimension===t.dimension.name)&&(!e.cube||e.cube===t.cube.name)&&(!e.server||e.server===t.cube.server))}return!!dc.isProperty(e)&&(this===e||this.matches(e.descriptor))}}function fc(e){return null==e?[]:[].concat(e)}function hc(e,t){let r=-1;const n=e.length,a=[];for(;++r<n;){const n=t(e[r],r,e);null!==n&&a.push(n)}return a}function vc(e,t){const r=Object(e),n=Object.keys(e);let a=-1,o=n.length;for(;o--;){const e=n[++a];if(!1===t(r[e],e,r))break}}function gc(e,t){return-1===e.indexOf(t)?e.push(t):e.length}function yc(e,t){for(;;){const r=e.next();if(r.done)break;const n=r.value;if(n.matches(t))return n}}function bc(e,t,r){const n=[],a={};for(let o=0;o<t.length;o++){const i=t[o],s=i.name,l=new e(i,r);n.push(l),a[s]=l}return[n,a]}function Ec(e,t="/"){const r=[];let n=e.length;for(;n--;){const t=e[n];-1===r.indexOf(t)&&r.unshift(t)}return r.join(t)}cc(dc,[uc,class{get name(){return this._source.name}},pc]);class wc{constructor(e,t){this.properties=[],this.propertiesByName={},this._parent=t,this._source=e;const r=bc(dc,e.properties,this);this.properties=r[0],this.propertiesByName=r[1]}static isLevel(e){return Boolean(e&&e._source&&"level"===e._source._type)}static isLevelDescriptor(e){return Boolean(e&&e.level&&"string"==typeof e.level)}get cube(){return this.dimension.cube}get depth(){return this._source.depth}get descriptor(){const e={cube:this._source.cube,dimension:this._source.dimension,hierarchy:this._source.hierarchy,level:this._source.name};try{e.server=this.cube.server}catch(t){}return e}get dimension(){return this.hierarchy.dimension}get hierarchy(){if(!this._parent)throw new Error(`Level ${this} doesn't have an associated parent hierarchy.`);return this._parent}get displayName(){return Ec([this._source.dimension,this._source.hierarchy,this._source.name])}get uniqueName(){return this._source.uniqueName||this._source.name}hasProperty(e){return["Caption","Key","Name","UniqueName"].indexOf(e)>-1||this._source.properties.some((t=>t.name===e))}matches(e){return"string"==typeof e?this._source.uniqueName===e||this._source.fullName===e||this._source.name===e:wc.isLevelDescriptor(e)?this.matches(e.level)&&(!e.hierarchy||e.hierarchy===this._source.hierarchy)&&(!e.dimension||e.dimension===this._source.dimension)&&(!e.cube||e.cube===this._source.cube)&&(!e.server||e.server===this.cube.server):!!wc.isLevel(e)&&(this===e||this.matches(e.descriptor))}}cc(wc,[uc,mc,pc]);class _c{constructor(e,t){this.levels=[],this.levelsByName={},this._parent=t,this._source=e;const r=bc(wc,e.levels,this);this.levels=r[0],this.levelsByName=r[1]}static isHierarchy(e){return Boolean(e&&e._source&&"hierarchy"===e._source._type)}get cube(){return this.dimension.cube}get dimension(){if(this._parent)return this._parent;throw new Error(`Hierarchy ${this} doesn't have an associated parent dimension.`)}get displayName(){return Ec([this._source.dimension,this._source.name])}getLevel(e){const t=wc.isLevel(e)?e.name:wc.isLevelDescriptor(e)?e.level:e,r=this.levelsByName[t];if(r)return r;throw new Error(`Object ${e} is not a valid level identifier`)}}cc(_c,[uc,mc,pc]);class Nc{constructor(e,t){this.hierarchies=[],this.hierarchiesByName={},this._parent=t,this._source=e;const r=bc(_c,e.hierarchies,this);this.hierarchies=r[0],this.hierarchiesByName=r[1]}static isDimension(e){return Boolean(e&&e._source&&"dimension"===e._source._type)}get caption(){return this._source.annotations.caption||this._source.name}get cube(){if(this._parent)return this._parent;throw new Error(`Dimension ${this} doesn't have an associated parent cube.`)}get defaultHierarchy(){return this.hierarchiesByName[this._source.defaultHierarchy]||this.hierarchies[0]}get dimensionType(){return this._source.dimensionType}get displayName(){return this._source.name}get levelIterator(){return this.levelIteratorFactory()}get propertyIterator(){return this.propertyIteratorFactory()}getHierarchy(e){const t="string"==typeof e?e:e.name,r=this.hierarchiesByName[t];if(r)return r;throw new Error(`Object ${e} didn't match any hierarchy in dimension ${this.name}`)}getLevel(e){const t=yc(this.levelIteratorFactory(),e);if(null!=t)return t;throw new Error(`Object ${e} didn't match any level in dimension ${this.name}`)}getProperty(e){const t=yc(this.propertyIteratorFactory(),e);if(null!=t)return t;throw new Error(`Object ${e} didn't match any property in dimension ${this.name}`)}levelIteratorFactory(){const{hierarchies:e}=this;let t=0,r=0;const n={next:function n(){if(t===e.length)return{value:void 0,done:!0};const{levels:a}=e[t];return r===a.length?(t++,r=0,n()):{value:a[r++],done:!1}},[Symbol.iterator]:()=>n};return n}propertyIteratorFactory(){const e=this.levelIteratorFactory();let t=e.next(),r=0;const n={next:function n(){if(t.done)return{value:void 0,done:!0};const{properties:a}=t.value;return r===a.length?(t=e.next(),r=0,n()):{value:a[r++],done:!1}},[Symbol.iterator]:()=>n};return n}}cc(Nc,[uc,mc,pc]),(Hl=Vl||(Vl={})).avg="AVG",Hl.AVG="AVG",Hl.count="COUNT",Hl.COUNT="COUNT",Hl.max="MAX",Hl.MAX="MAX",Hl.min="MIN",Hl.MIN="MIN",Hl.sum="SUM",Hl.SUM="SUM",Hl.unknown="UNKNOWN",Hl.UNKNOWN="UNKNOWN",(Yl=Kl||(Kl={})).growth="growth",Yl.GROWTH="growth",Yl.rate="rate",Yl.RATE="rate",Yl.rca="rca",Yl.RCA="rca",Yl.topk="topk",Yl.TOPK="topk",(Gl=Wl||(Wl={}))["!="]="neq",Gl["<"]="lt",Gl["<="]="lte",Gl["<>"]="neq",Gl["="]="eq",Gl[">"]="gt",Gl[">="]="gte",Gl.eq="eq",Gl.EQ="eq",Gl.gt="gt",Gl.GT="gt",Gl.gte="gte",Gl.GTE="gte",Gl.lt="lt",Gl.LT="lt",Gl.lte="lte",Gl.LTE="lte",Gl.NEQ="neq",Gl.neq="neq",(Xl=Jl||(Jl={})).geo="geo",Xl.Geographic="geo",Xl.std="std",Xl.Standard="std",Xl.time="time",Xl.Time="time",(ec=Zl||(Zl={})).csv="csv",ec.json="json",ec.jsonarrays="jsonarrays",ec.jsonrecords="jsonrecords",ec.xls="xls",(rc=tc||(tc={})).asc="asc",rc.ASC="asc",rc.desc="desc",rc.DESC="desc",(ac=nc||(nc={})).day="day",ac.DAY="day",ac.month="month",ac.MONTH="month",ac.quarter="quarter",ac.QUARTER="quarter",ac.time="time",ac.TIME="time",ac.week="week",ac.WEEK="week",ac.year="year",ac.YEAR="year",(ic=oc||(oc={})).latest="latest",ic.LATEST="latest",ic.oldest="oldest",ic.OLDEST="oldest";class xc{constructor(e,t){this._parent=t,this._source=e}static isCalcOrMeasure(e){return Kl.hasOwnProperty(e)||xc.isMeasure(e)}static isMeasure(e){return Boolean(e&&e._source&&"measure"===e._source._type)}get aggregatorType(){return this._source.aggregatorType}get cube(){if(this._parent)return this._parent;throw new Error(`Measure ${this} doesn't have an associated parent cube.`)}get displayName(){return this._source.name}}cc(xc,[uc,mc,pc]);class Sc{constructor(e,t){this._parent=t,this._source=e;const[r,n,a]=e.level;this.level=t?t.getLevel({dimension:r,hierarchy:n,level:a}):void 0}static isNamedset(e){return Boolean(e&&e._source&&"namedset"===e._source._type)}get cube(){if(this._parent)return this._parent;throw new Error(`NamedSet ${this} doesn't have an associated parent cube.`)}}function Oc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function Cc(e,t=(e=>`${e}`),r=Boolean){const n=e.filter(r);return n.length>0?n.map(t):void 0}function Pc(e){return!isNaN(Number.parseFloat(e))&&isFinite(e)}function kc(e){return Array.isArray(e)&&Wl.hasOwnProperty(e[0])&&Pc(e[1])}cc(Sc,[uc,mc,pc]);const Rc={[Kl.GROWTH]:function(e,t){return{kind:"growth",category:e.getLevel(t.category),value:e.getMeasure(t.value)}},[Kl.RCA]:function(e,t){return{kind:"rca",location:e.getLevel(t.location),category:e.getLevel(t.category),value:e.getMeasure(t.value)}},[Kl.TOPK]:function(e,t){if(!Pc(t.amount))throw new TypeError(`Invalid value in argument amount: ${t.amount}`);return{kind:"topk",amount:t.amount,category:e.getLevel(t.category),value:Kl[t.value]||e.getMeasure(t.value),order:tc[t.order]||tc.desc}}};function jc(e){return delete e.cube,delete e.server,e}function Tc(e){const t={};return vc(e,((e,r)=>{t[r]=xc.isMeasure(e)?e.name:wc.isLevel(e)?jc(e.descriptor):e})),t}function Ic(e,t){const r=e.cube;if(t.server&&t.server!==r.server)throw new Error(`Server "${t.server}" doesn't match with target Query object's server "${r.server}"`);if(t.cube&&t.cube!==r.name)throw new Error(`Cube "${t.cube}" doesn't match with target Query object's cube "${r.name}"`);return"string"==typeof t.format&&e.setFormat(Zl[t.format]),"string"==typeof t.locale&&e.setLocale(t.locale),Array.isArray(t.calculations)&&t.calculations.forEach((t=>{"growth"===t.kind&&e.addCalculation(t.kind,t),"rca"===t.kind&&e.addCalculation(t.kind,t),"topk"===t.kind&&e.addCalculation(t.kind,t)})),Array.isArray(t.captions)&&t.captions.forEach((t=>e.addCaption(t))),Array.isArray(t.drilldowns)&&t.drilldowns.forEach((t=>e.addDrilldown(t))),Array.isArray(t.cuts)&&t.cuts.forEach((t=>e.addCut(t,t.members,{exclusive:t.exclusive,forMatch:t.for_match}))),Array.isArray(t.filters)&&t.filters.forEach((t=>e.addFilter(t.measure,t.constraint,t.joint,t.constraint2))),Array.isArray(t.measures)&&t.measures.forEach((t=>e.addMeasure(t))),Array.isArray(t.properties)&&t.properties.forEach((t=>e.addProperty(t))),Pc(t.page_limit)&&e.setPagination(t.page_limit,t.page_offset),t.sort_property&&e.setSorting(t.sort_property,tc[t.sort_direction||"desc"]),t.time&&e.setTime(nc[t.time[0]],Pc(t.time[1])?t.time[1]:oc[t.time[1]]),vc(t.options,((t,r)=>{e.setOption(r,t)})),e}function Lc(e){return wc.isLevel(e)||dc.isProperty(e)?e.fullName:xc.isMeasure(e)?e.name:e}class Ac{constructor(e){this.calculations=[],this.captions={},this.cuts={},this.drilldowns=[],this.filters=[],this.format=Zl.jsonrecords,this.locale="",this.measures=[],this.options={},this.pageLimit=0,this.pageOffset=0,this.properties={},this.cube=e}addCalculation(e,t){const r=Rc[e];if(null==r)throw new TypeError(`Invalid calculation type: ${e} is not supported`);return this.calculations.push(r(this.cube,t)),this}addCaption(e){const t=this.cube.getProperty(e);return this.captions[t.level.fullName]=t,this}addCut(e,t=[],r={}){const n=this.cube.getDrillable(e),a=this.cuts[n.fullName]||{drillable:n,isExclusive:null!=r.exclusive?Boolean(r.exclusive):void 0,isForMatch:null!=r.forMatch?Boolean(r.forMatch):void 0,members:[]};return t.forEach((e=>(e||Pc(e))&&gc(a.members,`${e}`))),this.cuts[n.fullName]=a,this}addDrilldown(e){const t=this.cube.getDrillable(e);return gc(this.drilldowns,t),this}addFilter(e,t,r,n){if(!kc(t))throw new Error(`Invalid filter constraint: "${fc(t).join(" ")}"`);const a=Kl[`${e}`]||this.cube.getMeasure(e);if(r&&!["and","or"].includes(r))throw new Error(`Invalid filter joint: options are "and"/"or", used: "${r}"`);if(n&&!kc(n))throw new Error(`Invalid filter constraint: "${fc(n).join(" ")}"`);return this.filters.push({measure:a,const1:[Wl[t[0]],t[1]],joint:r&&n?r:void 0,const2:r&&n?[Wl[n[0]],n[1]]:void 0}),this}addMeasure(e){const t=this.cube.getMeasure(e);return gc(this.measures,t),this}addProperty(e){const t=this.cube.getProperty(e);return this.properties[t.fullName]=t,this}fromJSON(e){return Ic(this,e)}getParam(e){if("locale"===e)return this.locale;if("format"===e)return this.format;if("sorting"===e)return{direction:this.sortDirection,property:this.sortProperty};if("pagination"===e)return{limit:this.pageLimit,offset:this.pageOffset};if("time"===e)return{precision:this.timePrecision,value:this.timeValue};if("captions"===e||"cuts"===e||"properties"===e)return Object.values(this[e]);const t=this[e];return Array.isArray(t)?t.slice():"object"==typeof t?Object.assign({},t):t}setFormat(e){return this.format=Zl[e]||"",this}setLocale(e){return this.locale=`${e||""}`,this}setOption(e,t){return null!=t?this.options[e]=Boolean(t):delete this.options[e],this}setPagination(e,t){const r=e>0;return this.pageLimit=r?Math.max(0,e):0,this.pageOffset=r?Math.max(0,t||0):0,this}setSorting(e,t){if(!e)return this.sortDirection=void 0,this.sortProperty=void 0,this;const r=this.cube;return this.sortProperty="string"==typeof e?Kl[e]||r.measuresByName[e]||r.getProperty(e):xc.isMeasure(e)?e:r.getProperty(e),this.sortDirection="string"==typeof t?tc[t]||tc.DESC:!1===t?tc.ASC:tc.DESC,this}setTime(e,t){const r=null!=e&&null!=t;return this.timePrecision=r?e:void 0,this.timeValue=r?t:void 0,this}toJSON(){return function(e){const{cube:t}=e,r=e.getParam("pagination"),n=e.getParam("sorting"),a=e.getParam("time");return{server:t.server,cube:t.name,format:e.getParam("format"),locale:e.getParam("locale"),calculations:e.getParam("calculations").map(Tc),captions:e.getParam("captions").map((e=>jc(e.descriptor))),cuts:hc(e.getParam("cuts"),(e=>wc.isLevel(e.drillable)?Object.assign(Object.assign({},jc(e.drillable.descriptor)),{members:e.members,exclusive:e.isExclusive,for_match:e.isForMatch}):null)),drilldowns:hc(e.getParam("drilldowns"),(e=>wc.isLevel(e)?jc(e.descriptor):null)),filters:e.getParam("filters").map((e=>({measure:xc.isMeasure(e.measure)?e.measure.name:e.measure,constraint:e.const1,joint:e.joint,constraint2:e.const2}))),page_limit:r.limit,page_offset:r.offset,measures:e.getParam("measures").map((e=>e.name)),properties:e.getParam("properties").map((e=>jc(e.descriptor))),sort_property:dc.isProperty(n.property)?jc(n.property.descriptor):xc.isMeasure(n.property)?n.property.name:n.property,sort_direction:n.direction,time:null!=a.precision&&null!=a.value?[a.precision,a.value]:void 0,options:e.getParam("options")}}(this)}toSource(){return function(e){function t(e){return e in Zl?`Format.${e}`:e in Wl?`Comparison.${e.toUpperCase()}`:e in tc?`Direction.${e.toUpperCase()}`:Array.isArray(e)?`[${e.map(t).join(", ")}]`:(e=wc.isLevel(e.category)&&xc.isCalcOrMeasure(e.value)?Tc(e):Lc(e),JSON.stringify(e))}function r(e,...r){const n=[];let a=arguments.length;for(;--a>0;){const e=arguments[a];(0!=n.length||null!=e&&""!==e)&&n.push(t(e))}return n.reverse(),n.length>0?`.${e}(${n.join(", ")})`:""}const n=e.getParam("options"),a=e.getParam("pagination"),o=e.getParam("sorting"),i=e.getParam("time");return["query"].concat(r("setFormat",e.getParam("format")),r("setLocale",e.getParam("locale")),e.getParam("measures").map((e=>r("addMeasure",e))),e.getParam("drilldowns").map((e=>r("addDrilldown",e))),e.getParam("captions").map((e=>r("addCaption",e))),e.getParam("properties").map((e=>r("addProperty",e))),e.getParam("cuts").map((e=>r("addCut",e.drillable,e.members,{exclusive:e.isExclusive,forMatch:e.isForMatch}))),e.getParam("filters").map((e=>r("addFilter",e.measure,e.const1,e.joint&&e.const2?e.joint:"",e.joint&&e.const2?e.const2:""))),e.getParam("calculations").map((e=>{var{kind:t}=e;return r("addCalculation",t,Oc(e,["kind"]))})),a.limit>0?r("setPagination",a.limit,a.offset):"",null!=o.property&&null!=o.direction?r("setSorting",o.property,o.direction):"",null!=i.precision&&null!=i.value?r("setTime",i.precision,i.value):"",Object.keys(n).map((e=>"boolean"==typeof n[e]?r("setOption",e,n[e]):""))).filter(Boolean).join("\n  ")}(this)}toString(e){if("string"==typeof e){const{datasource:t}=this.cube;return t.stringifyQueryURL(this,e)}return zi(function(e){const{cube:t}=e,r=e.getParam("pagination"),n=e.getParam("sorting"),a=e.getParam("time");return{server:t.server,cube:t.name,format:e.getParam("format")||void 0,locale:e.getParam("locale")||void 0,calculations:e.getParam("calculations").map((e=>`${e.kind}:${hc(Object.keys(e).sort(),(t=>"kind"===t?null:Lc(e[t])))}`)),captions:e.getParam("captions").map((e=>e.fullName)),cuts:e.getParam("cuts").map((e=>`${e.isExclusive?"~":""}${e.isForMatch?"*":""}${e.drillable.fullName}.${e.members.join(",")}`)),drilldowns:e.getParam("drilldowns").map((e=>e.fullName)),filters:e.getParam("filters").map((e=>[xc.isMeasure(e.measure)?e.measure.name:e.measure,e.const1,e.joint&&e.const2?e.joint:"",e.joint&&e.const2?e.const2:""].filter(Boolean).join(" "))),page_limit:r.limit||void 0,page_offset:r.offset||void 0,measures:e.getParam("measures").map((e=>e.name)),properties:e.getParam("properties").map((e=>e.fullName)),sort_property:dc.isProperty(n.property)?n.property.fullName:xc.isMeasure(n.property)?n.property.name:n.property,sort_direction:n.direction,time_precision:a.precision,time_value:a.value,options:e.getParam("options")}}(this),{ignorenull:!0,skipIndex:!0,sorted:!0})}}class Mc{constructor(e,t){this.dimensions=[],this.dimensionsByName={},this.measures=[],this.measuresByName={},this.namedsets=[],this.namedsetsByName={},this._parent=t,this._source=e;const r=bc(Nc,e.dimensions,this);this.dimensions=r[0],this.dimensionsByName=r[1];const n=bc(xc,e.measures,this);this.measures=n[0],this.measuresByName=n[1];const a=bc(Sc,e.namedsets,this);this.namedsets=a[0],this.namedsetsByName=a[1]}static isCube(e){return Boolean(e&&e._source&&"cube"===e._source._type)}get caption(){return this._source.annotations.caption||this._source.name}get datasource(){if(this._parent)return this._parent;throw new Error(`Cube ${this} doesn't have an associated server url.`)}get defaultMeasure(){const e=this._source.annotations.default||"undefined";return this.measuresByName[e]||this.measures[0]}get geoDimension(){return this.dimensions.find((e=>e.dimensionType===Jl.Geographic))}get query(){return new Ac(this)}get server(){return this.datasource.serverUrl}get serverSoftware(){return this.datasource.serverSoftware}get standardDimensions(){return this.findDimensionsByType(Jl.Standard)}get timeDimension(){return this.dimensions.find((e=>e.dimensionType===Jl.Time))}get levelIterator(){return this.levelIteratorFactory()}get propertyIterator(){return this.propertyIteratorFactory()}findDimensionsByType(e){return this.dimensions.filter((t=>t.dimensionType===e))}getDimension(e){const t="string"==typeof e?e:e.name,r=this.dimensionsByName[t];if(r)return r;throw new Error(`Object ${e} is not a valid dimension identifier`)}getDrillable(e){return Sc.isNamedset(e)?this.getNamedSet(e):wc.isLevel(e)?this.getLevel(e):this.namedsetsByName[`${e}`]||this.getLevel(e)}getLevel(e){const t=yc(this.levelIteratorFactory(),e);if(null!=t)return t;throw new Error(`Object ${e} didn't match any level in cube ${this.name}`)}getMeasure(e){const t="string"==typeof e?e:e.name,r=this.measuresByName[t];if(r)return r;throw new Error(`Object ${e} is not a valid measure identifier`)}getNamedSet(e){const t="string"==typeof e?e:e.name,r=this.namedsetsByName[t];if(r)return r;throw new Error(`Object ${e} is not a valid namedset identifier`)}getProperty(e){const t=yc(this.propertyIteratorFactory(),e);if(null!=t)return t;throw new Error(`Object ${e} didn't match any level in cube ${this.name}`)}levelIteratorFactory(){const{dimensions:e}=this;let t=e[0].levelIterator,r=0;const n={next:function n(){var a;if(r===e.length)return{value:void 0,done:!0};const o=t.next();return o.done?(t=null===(a=e[++r])||void 0===a?void 0:a.levelIterator,n()):o},[Symbol.iterator]:()=>n};return n}propertyIteratorFactory(){const{dimensions:e}=this;let t=0,r=e[t].propertyIterator;const n={next:function n(){var a;if(t===e.length)return{value:void 0,done:!0};const o=r.next();return o.done?(r=null===(a=e[++t])||void 0===a?void 0:a.propertyIterator,n()):o},[Symbol.iterator]:()=>n};return n}}cc(Mc,[uc,mc,pc]);class Uc{constructor(e,t){this._parent=t,this._source=e,this.ancestors=e.ancestors.map((e=>new Uc(e,t))),this.children=e.children.map((e=>new Uc(e,t)))}get cube(){return this.level.cube}get key(){return this._source.key}get level(){if(this._parent)return this._parent;throw new Error(`Member ${this} doesn't have an associated parent level.`)}get parentName(){return this._source.parentName}}cc(Uc,[mc,pc]);class $c extends Error{constructor(e,t){super(t||(e.data?e.data.error||e.data:e.statusText)),this.status=e.status,this.body=e.data,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}var Dc,Fc;function Bc(e){const t=e.lastIndexOf(".");return[e.slice(0,t),e.slice(t+1)]}function qc(e){const{drillable:t,members:r}=e,n=r.map((e=>`${t.fullName}.&[${e}]`)).join(",");return r.length>1?`{${n}}`:n}function Qc(e){const t=Dc[e.const1[0]];return"string"!=typeof e.measure&&t?`${e.measure.name} ${t} ${e.const1[1]}`:""}function zc(e){const t=e.getParam("captions"),r=e.getParam("pagination"),n=e.getParam("sorting"),a=e.getParam("options"),o=e.getParam("locale").slice(0,2);if(o){const r=new RegExp(`^${o}\\s|\\s${o}$`,"i");e.getParam("drilldowns").forEach((e=>{if(wc.isLevel(e)){const n=e.properties.find((e=>r.test(e.name)));n&&t.push(n)}}))}return{caption:Cc(t,i),cut:Cc(e.getParam("cuts"),qc),drilldown:Cc(e.getParam("drilldowns"),(e=>e.fullName)),filter:Cc(e.getParam("filters"),Qc),measures:Cc(e.getParam("measures"),(e=>e.name)),properties:Cc(e.getParam("properties"),i),limit:r.limit||void 0,offset:r.offset||void 0,order:xc.isMeasure(n.property)?n.property.fullName:dc.isProperty(n.property)?i(n.property):void 0,order_desc:n.direction===tc.DESC||void 0,debug:a.debug,distinct:a.distinct,nonempty:a.nonempty,parents:a.parents,sparse:a.sparse};function i(e){return`${e.level.fullName}.${e.name}`}}function Vc(e,t){const r=e.cube,n={};for(let a of r.levelIterator)n[a.fullName]=a;return fc(t.caption).forEach((t=>{const[r,a]=Bc(t),o=n[r],i=o&&o.propertiesByName[a];i&&e.addCaption(i)})),fc(t.cut).forEach((t=>{const r=function(e){if(-1===e.indexOf("].&["))throw TypeError(`Couldn't parse cut: ${e}`);e=`${e}`.replace(/^\{|\}$/g,"");const[t]=e.split(".&",1);return[t,e.split(",").map((e=>{const[,t]=e.split("].&[");return t?t.replace("]",""):void 0})).filter(Boolean)]}(t);e.addCut(...r)})),fc(t.drilldown).forEach((t=>{const r=n[t];r&&e.addDrilldown(r)})),fc(t.filter).forEach((t=>{const[,n,a,o]=t.match(/^(.+)\s(>|<|>=|<=|=|<>)\s(.+)$/)||[],i=r.measuresByName[n],s=Wl[a];i&&s&&e.addFilter(i,[s,Number.parseFloat(o)])})),fc(t.measures).forEach((t=>{const n=r.measuresByName[t];n&&e.addMeasure(n)})),fc(t.properties).forEach((t=>{const[r,a]=Bc(t),o=n[r],i=o&&o.propertiesByName[a];i&&e.addProperty(i)})),null!=t.limit&&e.setPagination(t.limit,t.offset),t.order&&e.setSorting(t.order,!!t.order_desc),"boolean"==typeof t.debug&&e.setOption("debug",t.debug),"boolean"==typeof t.distinct&&e.setOption("distinct",t.distinct),"boolean"==typeof t.nonempty&&e.setOption("nonempty",t.nonempty),"boolean"==typeof t.parents&&e.setOption("parents",t.parents),"boolean"==typeof t.sparse&&e.setOption("sparse",t.sparse),e}function Hc(e){return t=>{const r=sc(e.server_uri,"cubes",encodeURIComponent(t.name)),n=Object.assign(Object.assign({},e),{cube_name:t.name,cube_uri:r});return{_type:"cube",annotations:t.annotations,dimensions:t.dimensions.map(Kc(n)),measures:t.measures.map(Gc(n)),name:t.name,namedsets:t.named_sets.map(Xc(n)),uri:r}}}function Kc(e){return t=>{var r;const n=sc(e.cube_uri,"dimensions",encodeURIComponent(t.name)),a=Object.assign(Object.assign({},e),{dimension_name:t.name,dimension_uri:n});return{_type:"dimension",annotations:t.annotations,cube:e.cube_name,defaultHierarchy:t.hierarchies[0].name,dimensionType:null!==(r=Jl[t.type])&&void 0!==r?r:Jl.Standard,hierarchies:t.hierarchies.map(Yc(a)),name:t.name,uri:n}}}function Yc(e){return t=>{const r=sc(e.dimension_uri,"hierarchies",encodeURIComponent(t.name)),n=Object.assign(Object.assign({},e),{hierarchy_name:t.name,hierarchy_uri:r}),a=t.has_all?t.levels.slice(1):t.levels;return{_type:"hierarchy",allMemberName:t.all_member_name,annotations:{},cube:e.cube_name,dimension:e.dimension_name,levels:a.map(Wc(n)),name:t.name,uri:r}}}function Wc(e){return t=>{const r=sc(e.hierarchy_uri,"levels",encodeURIComponent(t.name)),n=Object.assign(Object.assign({},e),{level_name:t.name,level_uri:r});return{_type:"level",annotations:t.annotations,caption:t.caption,cube:e.cube_name,depth:t.depth,dimension:e.dimension_name,fullName:t.full_name,hierarchy:e.hierarchy_name,name:t.name,properties:t.properties.map(Zc(n)),uri:r}}}function Gc(e){return t=>({_type:"measure",aggregatorType:Vl[t.aggregator]||Vl.UNKNOWN,annotations:t.annotations,caption:t.caption,cube:e.cube_name,fullName:t.full_name,name:t.name,uri:sc(e.cube_uri,"measures",encodeURIComponent(t.name))})}function Jc(e){return t=>({_type:"member",ancestors:fc(t.ancestors).map(Jc(e)),caption:t.caption,children:fc(t.children).map(Jc(e)),depth:t.depth,fullName:t.full_name,key:t.key,level:t.level_name,name:t.name,numChildren:t.num_children,parentName:t.parent_name,uri:sc(e.level_uri,"members",`${t.key}`)})}function Xc(e){return t=>({_type:"namedset",annotations:t.annotations,cube:e.cube_name,dimension:t.dimension,hierarchy:t.hierarchy,level:t.level,name:t.name,uri:sc(e.cube_uri,"namedsets",encodeURIComponent(t.name))})}function Zc(e){return t=>({_type:"property",annotations:{},cube:e.cube_name,dimension:e.dimension_name,hierarchy:e.hierarchy_name,level:e.level_name,name:t,uri:sc(e.level_uri,"properties",encodeURIComponent(t))})}(Fc=Dc||(Dc={})).eq="=",Fc.gt=">",Fc.gte=">=",Fc.lt="<",Fc.lte="<=",Fc.neq="<>";class eu{constructor(e){if(this.axiosInstance=Ql.create({}),this.serverSoftware=eu.softwareName,this.serverVersion="",this.serverUrl="/",!e||"string"!=typeof e)throw new Error(`Invalid Mondrian REST server URL: ${e}`);this.serverUrl=sc(e,"/")}checkStatus(){const e=sc(this.serverUrl,"cubes");return this.axiosInstance.get(e).then((()=>(this.serverOnline=!0,this.serverVersion="1.0.4",{software:this.serverSoftware,online:this.serverOnline,url:this.serverUrl,version:this.serverVersion})),(e=>{throw this.serverOnline=!1,e}))}execQuery(e,t="aggregate"){return"aggregate"===t?this.execQueryAggregate(e):Promise.reject(new Error(`Invalid endpoint type: ${t}`))}execQueryAggregate(e){const t=zc(e),r=e.getParam("format"),n=sc(e.cube.toString(),`aggregate.${r}`),a=zi(t,{ignorenull:!0,skipIndex:!0,sorted:!0});return this.axiosInstance.get(n,{params:t}).then((t=>({data:r===Zl.jsonrecords?t.data.data:t.data,headers:t.headers,query:e,status:t.status,url:`${n}?${a}`})))}fetchCube(e){const t=sc(this.serverUrl,"cubes",e),r=Hc({server_uri:this.serverUrl});return this.axiosInstance.get(t).then((e=>{const t=e.data;if(t&&"string"==typeof t.name)return r(t);throw new $c(e)}),(t=>{if(t.response){if(404===t.response.status)throw new $c(t.response,`Cube named "${e}" is not available in server ${this.serverUrl}`);throw new $c(t.response,t.message)}throw t}))}fetchCubes(){const e=sc(this.serverUrl,"cubes"),t=Hc({server_uri:this.serverUrl});return this.axiosInstance.get(e).then((e=>{const r=e.data;if(r&&Array.isArray(r.cubes))return r.cubes.map(t);throw new $c(e)}))}fetchMember(e,t,r={}){const{dimension:n,name:a}=e,o=Jc({level_uri:e.toString()});let i=r.caption;if(r.locale){const t=r.locale.slice(0,2);i=e.annotations[`${t}_caption`]||e.annotations[`caption_${t}`]||i}const s=sc(n.toString(),"levels",a,"members",`${t}`),l={caption:i||void 0,children:Boolean(r.children),member_properties:r.member_properties};return this.axiosInstance.get(s,{params:l}).then((e=>o(e.data)))}fetchMembers(e,t={}){const r=Jc({level_uri:e.toString()});let n=t.caption;if(t.locale){const r=t.locale.slice(0,2);n=e.annotations[`${r}_caption`]||e.annotations[`caption_${r}`]||n}const a=sc(e.toString(),"members"),o={caption:n||void 0,children:Boolean(t.children),member_properties:t.member_properties};return this.axiosInstance.get(a,{params:o}).then((e=>e.data.members.map(r)))}parseQueryURL(e,t,r){const n=t.indexOf("?"),a=t.slice(n+1),o=Qi(a),i=t.match(/^.+\/aggregate(\.[a-z]+)\?.+$/);i&&(o.format=i[1].slice(1));const s=vu(o,r);if(t.indexOf("/aggregate")>-1)return Vc(e,s);throw new Error(`Provided URL is not a valid Mondrian REST query URL: ${t}`)}setRequestConfig(e){Object.assign(this.axiosInstance.defaults,e)}stringifyQueryURL(e){return eu.urlAggregate(e)}static urlAggregate(e){const t=e.getParam("format"),r=zc(e),n=zi(r,{ignorenull:!0,skipIndex:!0,sorted:!0});return sc(e.cube.toString(),`aggregate.${t}?${n}`)}}function tu(e){return e.some((e=>e.includes(".")))?e.map((e=>`[${e}]`)).join("."):e.join(".")}function ru(e){return(e=e.replace(/^\[|\]$/g,"")).indexOf("].[")>-1?e.split(/\]\.\[?/):e.split(".")}function nu(e){const t=e.substr(e.indexOf(".")+1).split(/\.or\.|\.and\./).map((e=>{const t=e.indexOf("."),r=Wl[e.substr(0,t)],n=Number.parseFloat(e.substr(t+1));return r&&Pc(n)?[r,n]:void 0})).filter(Boolean);return{constraints:t,joint:t.length>1?e.indexOf(".and.")>-1?"and":"or":void 0}}function au(e){return[xc.isMeasure(e.measure)?e.measure.name:e.measure].concat(e.const1,e.joint,e.const2).filter(Boolean).join(".")}function ou(e){const t=e.getParam("captions"),r=e.getParam("locale").slice(0,2);if(r){const n=new RegExp(`^${r}\\s|\\s${r}$`,"i");e.getParam("drilldowns").forEach((e=>{if(wc.isLevel(e)){const r=e.properties.find((e=>n.test(e.name)));r&&t.push(r)}}))}const n=e.getParam("options"),a=e.getParam("pagination"),o=e.getParam("sorting"),i=e.getParam("calculations"),s=i.filter((e=>"growth"===e.kind)).pop(),l=i.filter((e=>"rca"===e.kind)).pop(),c=i.filter((e=>"topk"===e.kind)).pop();return{captions:Cc(t,u),cuts:Cc(e.getParam("cuts"),(function(e){const{drillable:t}=e,r=wc.isLevel(t)?[t.dimension.name,t.hierarchy.name,t.name]:ru(t.fullName);return(e.isExclusive?"~":"")+(e.isForMatch?"*":"")+tu(r.concat(e.members.join(",")))})),drilldowns:Cc(e.getParam("drilldowns"),(e=>wc.isLevel(e)?e.fullName:e.name)),filters:Cc(e.getParam("filters"),au),measures:Cc(e.getParam("measures"),(e=>e.name)),properties:Cc(e.getParam("properties"),u),limit:a.limit?a.offset>0?`${a.offset},${a.limit}`:`${a.limit}`:void 0,sort:xc.isMeasure(o.property)?`${o.property.name}.${o.direction}`:"string"==typeof o.property?`${o.property}.${o.direction}`:void 0,debug:n.debug,exclude_default_members:n.exclude_default_members,parents:n.parents,sparse:n.sparse,growth:s&&`${s.category.fullName},${s.value.name}`,rca:l&&`${l.location.fullName},${l.category.fullName},${l.value.name}`,top:c&&(e=>{const t=xc.isMeasure(e.value)?e.value.name:e.value;return`${e.amount},${e.category.fullName},${t},${e.order}`})(c)};function u(e){return tu([e.level.dimension.name,e.level.hierarchy.name,e.level.name,e.name])}}function iu(e,t){const r=e.cube,n={};for(let o of r.levelIterator)n[o.fullName]=o;const a={};for(let o of r.propertyIterator)a[o.fullName]=o;if(fc(t.captions).forEach((t=>{const r=a[t];r&&e.addCaption(r)})),fc(t.cuts).forEach((t=>{const{drillable:r,members:a,exclusive:o,forMatch:i}=function(e){const t="~"===e[0],r="*"===(e=t?e.slice(1):e)[0],n=ru(e=r?e.slice(1):e),a=n.pop()||"";return{drillable:tu(n),members:a.split(","),exclusive:t,forMatch:r}}(t),s=n[r];s&&e.addCut(s,a,{exclusive:o,forMatch:i})})),fc(t.drilldowns).forEach((t=>{const r=n[t];r&&e.addDrilldown(r)})),fc(t.filters).forEach((t=>{const n=t.indexOf("."),a=t.substr(0,n),o=Kl[a]||r.measuresByName[a];if(o){const{constraints:r,joint:n}=nu(t);e.addFilter(o,r[0],n,r[1])}})),fc(t.measures).forEach((t=>{const n=r.measuresByName[t];n&&e.addMeasure(n)})),fc(t.properties).forEach((t=>{const r=a[t];r&&e.addProperty(r)})),t.growth){const[a,o]=t.growth.split(","),i=n[a],s=r.measuresByName[o];i&&s&&e.addCalculation("growth",{category:i,value:s})}if(t.rca){const[a,o,i]=t.rca.split(","),s=n[a],l=n[o],c=r.measuresByName[i];s&&l&&c&&e.addCalculation("rca",{category:s,location:l,value:c})}if(t.top){const[a,o,i,s]=t.top.split(","),l=Number.parseInt(a),c=n[o],u=Kl[i]||r.measuresByName[i];l>0&&c&&u&&e.addCalculation("topk",{amount:l,category:c,value:u,order:tc[s]||tc.DESC})}if(null!=t.limit){const r=`${t.limit}`.split(","),n=2===r.length?r[0]:"0",a=2===r.length?r[1]:r[0];e.setPagination(Number.parseInt(a,10),Number.parseInt(n,10))}if(t.sort){const n=t.sort.lastIndexOf("."),a=t.sort.slice(0,n),o=t.sort.slice(n+1),i=Kl[a]||r.measuresByName[a];i&&e.setSorting(i,tc[o]||tc.DESC)}return"boolean"==typeof t.debug&&e.setOption("debug",t.debug),"boolean"==typeof t.distinct&&e.setOption("distinct",t.distinct),"boolean"==typeof t.exclude_default_members&&e.setOption("exclude_default_members",t.exclude_default_members),"boolean"==typeof t.nonempty&&e.setOption("nonempty",t.nonempty),"boolean"==typeof t.parents&&e.setOption("parents",t.parents),"boolean"==typeof t.sparse&&e.setOption("sparse",t.sparse),e}function su(e){return t=>{const r=sc(e.server_uri,"cubes",encodeURIComponent(t.name)),n=Object.assign(Object.assign({},e),{cube_name:t.name,cube_uri:r});return{_type:"cube",annotations:t.annotations,caption:t.annotations.caption,dimensions:t.dimensions.map(lu(n)),measures:t.measures.map(mu(n)),name:t.name,namedsets:[],uri:r}}}function lu(e){return t=>{var r,n;const a=t.name,o=[a],i=sc(e.cube_uri,"dimensions",encodeURIComponent(a)),s=Object.assign(Object.assign({},e),{dimension_fullname:o,dimension_name:a,dimension_uri:i});return{_type:"dimension",annotations:t.annotations,caption:t.annotations.caption,cube:e.cube_name,defaultHierarchy:null!==(r=t.default_hierarchy)&&void 0!==r?r:t.hierarchies[0].name,dimensionType:null!==(n=Jl[t.type])&&void 0!==n?n:Jl.Standard,fullName:tu(o),hierarchies:t.hierarchies.map(cu(s)),name:t.name,uri:i}}}function cu(e){return t=>{const r=t.name,n=e.dimension_fullname.concat(r),a=sc(e.dimension_uri,"hierarchies",encodeURIComponent(r)),o=Object.assign(Object.assign({},e),{hierarchy_fullname:n,hierarchy_name:r,hierarchy_uri:a});return{_type:"hierarchy",annotations:t.annotations,caption:t.annotations.caption,cube:e.cube_name,dimension:e.dimension_name,fullName:tu(n),levels:t.levels.map(uu(o)),name:t.name,uri:a}}}function uu(e){return(t,r)=>{const n=t.name,a=e.hierarchy_fullname.concat(n),o=sc(e.hierarchy_uri,"levels",encodeURIComponent(t.name)),i=Object.assign(Object.assign({},e),{level_name:n,level_uri:o});return{_type:"level",annotations:t.annotations,caption:t.annotations.caption,cube:e.cube_name,depth:r+1,dimension:e.dimension_name,fullName:tu(a),hierarchy:e.hierarchy_name,name:t.name,properties:fc(t.properties).map(pu(i)),uniqueName:t.unique_name,uri:o}}}function mu(e){return t=>{var r,n;const a=null===(r=t.aggregator.name)||void 0===r?void 0:r.toUpperCase();return{_type:"measure",aggregatorType:null!==(n=Vl[a])&&void 0!==n?n:Vl.UNKNOWN,annotations:t.annotations,caption:t.annotations.caption,cube:e.cube_name,name:t.name,uri:sc(e.cube_uri,"measures",encodeURIComponent(t.name))}}}function pu(e){return t=>({_type:"property",annotations:t.annotations,captionSet:t.caption_set,cube:e.cube_name,dimension:e.dimension_name,hierarchy:e.hierarchy_name,level:e.level_name,name:t.name,uniqueName:t.unique_name,uri:sc(e.level_uri,"properties",encodeURIComponent(t.name))})}function du(e){const t=e.cube,r=hc(e.getParam("drilldowns"),(e=>wc.isLevel(e)?e.uniqueName:null)),n=hc(e.getParam("filters"),au),a=hc(e.getParam("measures"),(e=>e.name)),o=hc(e.getParam("properties"),(e=>e.uniqueName)),i=e.getParam("options"),s=e.getParam("pagination"),l=e.getParam("sorting"),c=e.getParam("time"),u=e.getParam("calculations").reverse(),m=u.find((e=>"growth"===e.kind)),p=u.find((e=>"rca"===e.kind)),d=u.find((e=>"topk"===e.kind)),f={cube:t.name,locale:e.getParam("locale")||void 0,drilldowns:r.join(",")||void 0,properties:o.join(",")||void 0,measures:a.join(",")||void 0,filters:n.join(",")||void 0,limit:s.limit?s.offset>0?`${s.offset},${s.limit}`:`${s.limit}`:void 0,sort:xc.isMeasure(l.property)?`${l.property.name}.${l.direction}`:"string"==typeof l.property?`${l.property}.${l.direction}`:void 0,time:null!=c.precision&&null!=c.value?`${c.precision}.${c.value}`:void 0,debug:i.debug,exclude_default_members:i.exclude_default_members,parents:i.parents,sparse:i.sparse,growth:m&&`${m.category.uniqueName},${m.value.name}`,rca:p&&`${p.location.uniqueName},${p.category.uniqueName},${p.value.name}`,top:d&&(e=>{const t=xc.isMeasure(e.value)?e.value.name:e.value;return`${e.amount},${e.category.uniqueName},${t},${e.order}`})(d)},h=hc(e.getParam("cuts"),(e=>{const{drillable:t}=e,r=wc.isLevel(t)?t:void 0;return r?e.isExclusive?`${r.uniqueName}:${e.members.join(",")}`:(f[r.uniqueName]=e.members.join(","),null):null}));return f.exclude=h.join(";")||void 0,f}function fu(e,t){const r=e.cube,n={};for(let p of r.levelIterator)n[p.uniqueName]=p;const a={};for(let p of r.propertyIterator)a[p.uniqueName]=p;const o=["cube","drilldowns","time","measures","properties","filters","parents","top","sort","limit","growth","rca","rate","top_where","debug","exclude","exclude_default_members","locale","distinct","nonempty","sparse"],{drilldowns:i="",measures:s="",exclude:l="",filters:c="",properties:u=""}=t;Object.keys(t).forEach((r=>{const a=n[r];a&&-1===o.indexOf(r)&&e.addCut(a,`${t[r]}`.split(","))})),l.split(";").forEach((t=>{const[r,a]=t.split(":"),o=n[r];o&&e.addCut(o,a.split(","),{exclusive:!0})})),i.split(",").forEach((t=>{const r=n[t];r&&e.addDrilldown(r)})),c.split(",").forEach((t=>{const n=t.substr(0,t.indexOf(".")),a=Kl[n]||r.measuresByName[n];if(a){const{constraints:[r,n],joint:o}=nu(t);e.addFilter(a,r,o,n)}})),s.split(",").forEach((t=>{const n=r.measuresByName[t];n&&e.addMeasure(n)})),u.split(",").forEach((t=>{const r=a[t];r&&e.addProperty(r)}));const m={cube:t.cube,locale:t.locale||"",options:{debug:t.debug,exclude_default_members:t.exclude_default_members,parents:t.parents,sparse:t.sparse},page_limit:0,page_offset:0,sort_direction:tc.DESC,sort_property:"",time:void 0};if(t.growth){const[a,o]=t.growth.split(","),i=n[a],s=r.measuresByName[o];i&&s&&e.addCalculation("growth",{category:i,value:s})}if(t.rca){const[a,o,i]=t.rca.split(","),s=n[a],l=n[o],c=r.measuresByName[i];s&&l&&c&&e.addCalculation("rca",{category:s,location:l,value:c})}if(t.top){const[a,o,i,s]=t.top.split(","),l=Number.parseInt(a),c=n[o],u=r.measuresByName[i];l&&c&&u&&e.addCalculation("topk",{amount:l,category:c,order:tc[s]||tc.DESC,value:u})}if(t.limit){const e=hc(t.limit.split(","),(e=>Number.parseInt(e)||null));m.page_limit=2===e.length?e[1]:e[0],m.page_offset=2===e.length?e[0]:0}if(t.sort){const e=t.sort.lastIndexOf(".");m.sort_property=t.sort.slice(0,e),m.sort_direction=tc[t.sort.slice(e+1)]}if(t.time){const r=hc(t.time.split("."),(e=>e||null)),n=nc[r[0]],a=Pc(r[1])?r[1]:oc[r[1]];n&&null!=a&&e.setTime(n,a)}return Ic(e,m)}eu.softwareName="mondrian-rest",eu.queryAggregate=Vc;class hu{constructor(e){if(this.axiosInstance=Ql.create({}),this.serverSoftware=hu.softwareName,this.serverVersion="",this.serverUrl="/",!e||"string"!=typeof e)throw new Error(`Invalid Tesseract OLAP server URL: ${e}`);this.serverUrl=sc(e,"/")}checkStatus(){return this.axiosInstance.get(this.serverUrl).then((e=>{const{status:t,tesseract_version:r}=e.data;return this.serverOnline="ok"===t,this.serverVersion=r,{software:this.serverSoftware,online:this.serverOnline,url:this.serverUrl,version:this.serverVersion}}),(e=>{throw this.serverOnline=!1,e}))}execQuery(e,t="aggregate"){if("aggregate"===t)return this.execQueryAggregate(e);if("logiclayer"===t)return this.execQueryLogicLayer(e);const r=`Invalid endpoint type: ${t}`;return Promise.reject(new Error(r))}execQueryAggregate(e){const t=ou(e),r=e.getParam("format"),n=sc(e.cube.toString(),`aggregate.${r}`),a=zi(t,{ignorenull:!0,skipIndex:!0,sorted:!0});return this.axiosInstance.get(n,{params:t}).then((t=>({data:r===Zl.jsonrecords?t.data.data:t.data,headers:t.headers,query:e,status:t.status,url:`${n}?${a}`})))}execQueryLogicLayer(e){const t=du(e),r=e.getParam("format"),n=sc(this.serverUrl,`data.${r}`),a=zi(t,{ignorenull:!0,skipIndex:!0,sorted:!0});return this.axiosInstance.get(n,{params:t}).then((t=>({data:r===Zl.jsonrecords?t.data.data:t.data,headers:t.headers,query:e,status:t.status,url:`${n}?${a}`})))}fetchCube(e){const t=sc(this.serverUrl,"cubes",e),r=su({server_uri:this.serverUrl});return this.axiosInstance.get(t).then((e=>{const t=e.data;if(t&&"string"==typeof t.name)return r(t);throw new $c(e)}),(t=>{if(t.response){if(404===t.response.status)throw new $c(t.response,`Cube named "${e}" is not available in server ${this.serverUrl}`);throw new $c(t.response,t.message)}throw t}))}fetchCubes(){const e=sc(this.serverUrl,"cubes"),t=su({server_uri:this.serverUrl});return this.axiosInstance.get(e).then((e=>{const r=e.data;if(r&&Array.isArray(r.cubes))return r.cubes.map(t);throw new $c(e)}))}fetchMembers(e,t={}){const r=sc(this.serverUrl,"members"),n={cube:e.cube.name,level:e.name,locale:t.locale||void 0},a=(o={level_name:n.level,locale:(n.locale||"").toUpperCase(),server_uri:this.serverUrl},e=>{const t=e[`${o.locale} Label`]||e.Label||`${e.ID}`;return{_type:"member",ancestors:[],caption:t,children:[],fullName:tu([o.level_name,`${e.ID}`]),key:e.ID,level:o.level_name,name:t,uri:sc(o.server_uri,`members?level=${encodeURIComponent(o.level_name)}`)}});var o;return this.axiosInstance.get(r,{params:n}).then((e=>{const{data:t}=e.data;let r=t.length;for(;r--;)t[r]=a(t[r]);return t}))}fetchMember(e,t,r={}){return this.fetchMembers(e,r).then((r=>{const n=r.find((e=>e.key==t));if(n)return n;throw new Error(`Requested member doesn't exist: descriptor ${JSON.stringify(e)}, key ${t}`)}))}parseQueryURL(e,t,r){const n=t.indexOf("?"),a=t.slice(n+1),o=Qi(a),i=t.match(/^.+\/(?:aggregate|data)(\.[a-z]+)?\?.+$/);if(i){const t=`${i[1]||""}`.slice(1);e.setFormat(t)}const s=vu(o,r);if(t.indexOf("/aggregate")>-1)return iu(e,s);if(t.indexOf("/data")>-1){if(o.cube!==e.cube.name)throw new Error(`URL and Query object belong to different cubes\n  Query cube: ${e.cube.name}\n  URL cube: ${o.cube}`);return fu(e,s)}throw new Error(`Provided URL is not a valid Tesseract OLAP query URL: ${t}`)}setRequestConfig(e){Object.assign(this.axiosInstance.defaults,e)}stringifyQueryURL(e,t){return"logiclayer"===t?hu.urlLogicLayer(e):hu.urlAggregate(e)}static urlAggregate(e){const t=e.getParam("format"),r=ou(e),n=zi(r,{ignorenull:!0,skipIndex:!0,sorted:!0});return sc(e.cube.toString(),`aggregate.${t}?${n}`)}static urlLogicLayer(e){const t=e.getParam("format"),r=du(e),n=zi(r,{ignorenull:!0,skipIndex:!0,sorted:!0});return sc(e.cube.server,`data.${t}?${n}`)}}function vu(e,t={}){const{exclude:r,include:n,filter:a}=t,o=()=>!0;let i="function"==typeof a?a:o;if(r||n){const e=Array.isArray(n)?e=>n.reduce(((t,r)=>t&&e===r),!0):o,t=Array.isArray(r)?e=>r.reduce(((t,r)=>t&&e!==r),!0):o;i=r=>e(r)&&t(r)}const s={};return Object.keys(e).forEach((t=>{const r=e[t];i(t,r)&&Object.defineProperty(s,t,{enumerable:!0,value:r})})),s}function gu(e,t,r){const n=wc.isLevel(t)?t.cube.name:wc.isLevelDescriptor(t)?t.cube:void 0;return n?e.getCube(n,r).then((e=>e.getLevel(t))):e.getCubes().then((e=>{let r=e.length;for(;r--;){const n=yc(e[r].levelIterator,t);if(null!=n)return n}throw new Error(`No level matched the descriptor ${JSON.stringify(t)}`)}))}function yu(e){"string"==typeof e&&(e={url:e});const{url:t}=e,r=Oc(e,["url"]);if(!t){const t=`DataSource can be built with a string URL or an object with the 'url' property.\nReceived ${JSON.stringify(e)}`;return Promise.reject(new Error(t))}const n=sc(t,"cubes");return Ql(Object.assign(Object.assign({},r),{url:n})).then((e=>{if(200===e.status&&"cubes"in e.data){const n="name"in e.data?new hu(t):new eu(t);return n.setRequestConfig(r),n}throw new $c(e,`URL is not a known OLAP server: ${t}`)}),(e=>{throw e.message+=`\nURL is not a known OLAP server: ${t}`,e}))}function bu(e){const t=/\/cubes\/([^\/]+)\/|\bcube=([^&]+)&/.exec(e);if(t)return t[1]||t[2];throw new Error(`Provided URL is not a valid Query URL: ${e}`)}hu.softwareName="tesseract-olap",hu.queryAggregate=iu,hu.queryLogicLayer=fu;class Eu{constructor(e){this._cache=new lc((e=>e.name)),e&&this.setDataSource(e)}static dataSourceFromURL(e){return yu(e)}static fromURL(e){return yu(e).then((e=>new Eu(e)))}checkStatus(){return this.datasource.checkStatus()}get datasource(){if(this._ds)return this._ds;throw new Error("This Client instance has no DataSource configured.\nVerify the initialization procedure, there might be a race condition.")}execQuery(e,t){return this.datasource.execQuery(e,t)}getCube(e){const t=this.datasource;return this._cache.getItem(e,(()=>t.fetchCube(e).then((e=>new Mc(e,t)))))}getCubes(){const e=this.datasource;return this._cache.getAllItems((()=>e.fetchCubes().then((t=>t.map((t=>new Mc(t,e)))))))}getMember(e,t,r){return gu(this,e).then((e=>this.datasource.fetchMember(e,t,r).then((t=>new Uc(t,e)))))}getMembers(e,t){return gu(this,e).then((e=>this.datasource.fetchMembers(e,t).then((t=>t.map((t=>new Uc(t,e)))))))}parseQueryURL(e,t={}){const{serverUrl:r}=this.datasource;if(!t.anyServer&&-1===e.indexOf(r)){const t=`Provided URL doesn't belong to the datasource set on this client instance:\nDataSource server: ${r}\nProvided server: ${e.slice(0,e.indexOf("/",10))}\n`;return Promise.reject(new Error(t))}return Promise.resolve(e).then(bu).then((e=>this.getCube(e))).then((r=>this.datasource.parseQueryURL(r.query,e,t)))}setDataSource(e){e!==this._ds&&(this._ds=e,this._cache=new lc((e=>e.name)))}setRequestConfig(e){this.datasource.setRequestConfig(e)}}const wu={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"Ð°Ò§ÑÑÐ° Ð±ÑÐ·ÑÓÐ°"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"á áá­á"},an:{name:"Aragonese",nativeName:"aragonÃ©s"},ar:{name:"Arabic",nativeName:"Ø§ÙÙÙØ¹ÙØ±ÙØ¨ÙÙÙÙØ©Ù"},as:{name:"Assamese",nativeName:"à¦à¦¸à¦®à§à¦¯à¦¼à¦¾"},av:{name:"Avaric",nativeName:"Ð°Ð²Ð°Ñ Ð¼Ð°ÑÓ"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azÉrbaycan dili"},ba:{name:"Bashkir",nativeName:"Ð±Ð°ÑÒ¡Ð¾ÑÑ ÑÐµÐ»Ðµ"},be:{name:"Belarusian",nativeName:"Ð±ÐµÐ»Ð°ÑÑÑÐºÐ°Ñ Ð¼Ð¾Ð²Ð°"},bg:{name:"Bulgarian",nativeName:"Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸ ÐµÐ·Ð¸Ðº"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"à¦¬à¦¾à¦à¦²à¦¾"},bo:{name:"Tibetan",nativeName:"à½à½¼à½à¼à½¡à½²à½"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"CatalÃ "},ce:{name:"Chechen",nativeName:"Ð½Ð¾ÑÑÐ¸Ð¹Ð½ Ð¼Ð¾ÑÑ"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"áá¦áá­ááá£"},cs:{name:"Czech",nativeName:"ÄeÅ¡tina"},cu:{name:"Old Church Slavonic",nativeName:"Ñ©Ð·ÑÐºÑ ÑÐ»Ð¾Ð²Ñ£Ð½ÑÑÐºÑ"},cv:{name:"Chuvash",nativeName:"ÑÓÐ²Ð°Ñ ÑÓÐ»ÑÐ¸"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"ÞÞ¨ÞÞ¬ÞÞ¨"},dz:{name:"Dzongkha",nativeName:"à½¢à¾«à½¼à½à¼à½"},ee:{name:"Ewe",nativeName:"EÊegbe"},el:{name:"Greek",nativeName:"ÎÎ»Î»Î·Î½Î¹ÎºÎ¬"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"EspaÃ±ol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"ÙØ§Ø±Ø³Û"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"fÃ¸royskt"},fr:{name:"French",nativeName:"FranÃ§ais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"GÃ idhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"GuaranÃ­",nativeName:"AvaÃ±e'áº½"},gu:{name:"Gujarati",nativeName:"àªà«àªàª°àª¾àª¤à«"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"ÙÙÙÙØ³Ù"},he:{name:"Hebrew",nativeName:"×¢××¨××ª"},hi:{name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"KreyÃ²l ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"ÕÕ¡ÕµÕ¥ÖÕ¥Õ¶"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Asá»¥sá»¥ Igbo"},ii:{name:"Nuosu",nativeName:"êê ê¿ Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"IÃ±upiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Ãslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"áááááá¦"},ja:{name:"Japanese",nativeName:"æ¥æ¬èª"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"á¥áá áá£áá"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"GÄ©kÅ©yÅ©"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"ÒÐ°Ð·Ð°Ò ÑÑÐ»Ñ"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"áááááá¶áá¶"},kn:{name:"Kannada",nativeName:"à²à²¨à³à²¨à²¡"},ko:{name:"Korean",nativeName:"íêµ­ì´"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"à¤à¤¶à¥à¤®à¥à¤°à¥"},ku:{name:"Kurdish",nativeName:"KurdÃ®"},kv:{name:"Komi",nativeName:"ÐºÐ¾Ð¼Ð¸ ÐºÑÐ²"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"ÐÑÑÐ³ÑÐ·ÑÐ°"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"LÃ«tzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"LingÃ¡la"},lo:{name:"Lao",nativeName:"àºàº²àºªàº²àº¥àº²àº§"},lt:{name:"Lithuanian",nativeName:"lietuviÅ³ kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvieÅ¡u valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin MÌ§ajeÄ¼"},mi:{name:"MÄori",nativeName:"te reo MÄori"},mk:{name:"Macedonian",nativeName:"Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸ ÑÐ°Ð·Ð¸Ðº"},ml:{name:"Malayalam",nativeName:"à´®à´²à´¯à´¾à´³à´"},mn:{name:"Mongolian",nativeName:"ÐÐ¾Ð½Ð³Ð¾Ð» ÑÑÐ»"},mr:{name:"Marathi",nativeName:"à¤®à¤°à¤¾à¤ à¥"},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"ááá¬áá¬"},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian BokmÃ¥l",nativeName:"Norsk bokmÃ¥l"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"à¤¨à¥à¤ªà¤¾à¤²à¥"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"DinÃ© bizaad"},ny:{name:"Chichewa",nativeName:"chiCheÅµa"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"ááááá¯á§áá"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"à¬à¬¡à¬¼à¬¿à¬"},os:{name:"Ossetian",nativeName:"Ð¸ÑÐ¾Ð½ Ã¦Ð²Ð·Ð°Ð³"},pa:{name:"Panjabi",nativeName:"à¨ªà©°à¨à¨¾à¨¬à©"},pi:{name:"PÄli",nativeName:"à¤ªà¤¾à¤´à¤¿"},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:"Ù¾ÚØªÙ"},pt:{name:"Portuguese",nativeName:"PortuguÃªs"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"RomÃ¢nÄ"},ru:{name:"Russian",nativeName:"Ð ÑÑÑÐºÐ¸Ð¹"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"à¤¸à¤à¤¸à¥à¤à¥à¤¤à¤®à¥"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"à¤¸à¤¿à¤¨à¥à¤§à¥"},se:{name:"Northern Sami",nativeName:"DavvisÃ¡megiella"},sg:{name:"Sango",nativeName:"yÃ¢ngÃ¢ tÃ® sÃ¤ngÃ¶"},si:{name:"Sinhala",nativeName:"à·à·à¶à·à¶½"},sk:{name:"Slovak",nativeName:"slovenÄina"},sl:{name:"Slovenian",nativeName:"slovenÅ¡Äina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"ÑÑÐ¿ÑÐºÐ¸ ÑÐµÐ·Ð¸Ðº"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"à®¤à®®à®¿à®´à¯"},te:{name:"Telugu",nativeName:"à°¤à±à°²à±à°à±"},tg:{name:"Tajik",nativeName:"ÑÐ¾Ò·Ð¸ÐºÓ£"},th:{name:"Thai",nativeName:"à¹à¸à¸¢"},ti:{name:"Tigrinya",nativeName:"áµáá­á"},tk:{name:"Turkmen",nativeName:"TÃ¼rkmenÃ§e"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"TÃ¼rkÃ§e"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"ÑÐ°ÑÐ°Ñ ÑÐµÐ»Ðµ"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"Ø¦ÛÙØºÛØ±ÚÛâ"},uk:{name:"Ukrainian",nativeName:"Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°"},ur:{name:"Urdu",nativeName:"Ø§Ø±Ø¯Ù"},uz:{name:"Uzbek",nativeName:"ÐÐ·Ð±ÐµÐº"},ve:{name:"Venda",nativeName:"Tshivená¸a"},vi:{name:"Vietnamese",nativeName:"Tiáº¿ng Viá»t"},vo:{name:"VolapÃ¼k",nativeName:"VolapÃ¼k"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"××Ö´×××©"},yo:{name:"Yoruba",nativeName:"YorÃ¹bÃ¡"},za:{name:"Zhuang",nativeName:"SaÉ¯ cueÅÆ"},zh:{name:"Chinese",nativeName:"ä¸­æ"},zu:{name:"Zulu",nativeName:"isiZulu"}};class _u{static getLanguages(e=[]){return e.map((e=>({code:e,name:_u.getName(e),nativeName:_u.getNativeName(e)})))}static getName(e){return _u.validate(e)?wu[e].name:""}static getAllNames(){return Object.values(wu).map((e=>e.name))}static getNativeName(e){return _u.validate(e)?wu[e].nativeName:""}static getAllNativeNames(){return Object.values(wu).map((e=>e.nativeName))}static getCode(e){return Object.keys(wu).find((t=>{const r=wu[t];return r.name.toLowerCase()===e.toLowerCase()||r.nativeName.toLowerCase()===e.toLowerCase()}))||""}static getAllCodes(){return Object.keys(wu)}static validate(e){return wu.hasOwnProperty(e)}}var Nu=function(e,t){return e===t};function xu(e,t){var r,n,a="object"==typeof t?t:{equalityCheck:t},o=a.equalityCheck,i=void 0===o?Nu:o,s=a.maxSize,l=void 0===s?1:s,c=a.resultEqualityCheck,u=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,a=0;a<n;a++)if(!e(t[a],r[a]))return!1;return!0}}(i),m=1===l?(r=u,{get:function(e){return n&&r(n.key,e)?n.value:"NOT_FOUND"},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var a=r[n];return n>0&&(r.splice(n,1),r.unshift(a)),a.value}return"NOT_FOUND"}return{get:n,put:function(t,a){"NOT_FOUND"===n(t)&&(r.unshift({key:t,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(l,u);function p(){var t=m.get(arguments);if("NOT_FOUND"===t){if(t=e.apply(null,arguments),c){var r=m.getEntries(),n=r.find((function(e){return c(e.value,t)}));n&&(t=n.value)}m.put(arguments,t)}return t}return p.clearCache=function(){return m.clear()},p}function Su(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function Ou(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var o,i=0,s={memoizeOptions:void 0},l=n.pop();if("object"==typeof l&&(s=l,l=n.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s,u=c.memoizeOptions,m=void 0===u?r:u,p=Array.isArray(m)?m:[m],d=Su(n),f=e.apply(void 0,[function(){return i++,l.apply(null,arguments)}].concat(p)),h=e((function(){for(var e=[],t=d.length,r=0;r<t;r++)e.push(d[r].apply(null,arguments));return o=f.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:f,dependencies:d,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h};return a}var Cu=Ou(xu),Pu={},ku={},Ru={exports:{}},ju={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ju),function(e){var t=ju.exports.default;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}e.exports=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var a=r(n);if(a&&a.has(e))return a.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,a&&a.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports}(Ru);var Tu={exports:{}},Iu={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(Iu);var Lu={exports:{}};!function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}(Lu);var Au={exports:{}},Mu={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports}(Mu),function(e){var t=Mu.exports;e.exports=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(Au);var Uu={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(Uu),function(e){var t=Iu.exports,r=Lu.exports,n=Au.exports,a=Uu.exports;e.exports=function(e,o){return t(e)||r(e,o)||n(e,o)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}(Tu);var $u={exports:{}},Du={exports:{}};!function(e){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a},e.exports.__esModule=!0,e.exports.default=e.exports}(Du),function(e){var t=Du.exports;e.exports=function(e,r){if(null==e)return{};var n,a,o=t(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports}($u);var Fu,Bu={exports:{}};Fu=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),s=c(i),l=c(r(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getStyleString=function(){if(r.props.children instanceof Array){var e=r.props.children.filter((function(e){return!(0,i.isValidElement)(e)&&"string"==typeof e}));if(e.length>1)throw new Error("Multiple style objects as direct descedents of a Style component are not supported ("+e.length+" style objects detected): \n\n"+e[0]);return e[0]}return"string"!=typeof r.props.children||(0,i.isValidElement)(r.props.children)?null:r.props.children},r.getRootElement=function(){return r.props.children instanceof Array?r.props.children.filter((function(e){return(0,i.isValidElement)(e)}))[0]:(0,i.isValidElement)(r.props.children)?r.props.children:null},r.getRootSelectors=function(e){var t=[];return e.props.id&&t.push("#"+e.props.id),e.props.className&&e.props.className.trim().split(/\s+/g).forEach((function(e){return t.push(e)})),t.length||"function"==typeof e.type||t.push(e.type),t},r.processCSSText=function(e,t,n){return e.replace(/\s*\/\/(?![^(]*\)).*|\s*\/\*.*\*\//g,"").replace(/\s\s+/g," ").split("}").map((function(e){var a=/.*:.*;/g,o=/.*:.*(;|$|\s+)/g,i=/\s*@/g,s=/\s*(([0-9][0-9]?|100)\s*%)|\s*(to|from)\s*$/g;return e.split("{").map((function(e,l,c){if(!e.trim().length)return"";var u=c.length-1===l&&e.match(o);if(e.match(a)||u)return r.escapeTextContentForBrowser(e);var m=e;return t&&!/:target/gi.test(m)?m.match(i)||m.match(s)?m:r.scopeSelector(t,m,n):m})).join("{\n")})).join("}\n")},r.escaper=function(e){return{">":"&gt;","<":"&lt;"}[e]},r.escapeTextContentForBrowser=function(e){return(""+e).replace(/[><]/g,r.escaper)},r.scopeSelector=function(e,t,r){for(var n=[],a=t.split(/,(?![^(|[]*\)|\])/g),o=0;o<a.length;o++){var i=void 0,s=void 0;if(r.length&&r.some((function(e){return t.match(e)}))){s=a[o];var l=r.map((function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}));s=s.replace(new RegExp("("+l.join("|")+")"),"$1"+e),i=e+" "+a[o],n.push(s,i)}else i=e+" "+a[o],n.push(i)}return n.join(", ")},r.getScopeClassName=function(e,t){var n=e;return t&&(r.pepper="",r.traverseObjectToGeneratePepper(t),n+=r.pepper),"s"+(0,l.default)(n)},r.traverseObjectToGeneratePepper=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t>32||r.pepper.length>1e4))for(var n in e){var o=/^[_$]|type|ref|^value$/.test(n);e[n]&&"object"===a(e[n])&&!o?r.traverseObjectToGeneratePepper(e[n],t+1):e[n]&&!o&&"function"!=typeof e[n]&&(r.pepper+=e[n])}},r.isVoidElement=function(e){return["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].some((function(t){return e===t}))},r.addCSSTextToHead=function(e){if(e.length){var t=(0,l.default)(e);window._reactiveStyle.cssTextHashesAddedToHead.some((function(e){return e===t}))||(window._reactiveStyle.el.innerHTML+=e,window._reactiveStyle.cssTextHashesAddedToHead.push(t))}},r.createStyleElement=function(e,t){return s.default.createElement("style",{type:"text/css",key:t,ref:function(e){return r._style=e},dangerouslySetInnerHTML:{__html:e||""}})},r.getNewChildrenForCloneElement=function(e,t,n){return[r.createStyleElement(e,n)].concat(t.props.children)},r.scopeClassNameCache={},r.scopedCSSTextCache={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){if(!this.props.children)return this.createStyleElement();var e=this.getStyleString(),t=this.getRootElement();if(!e&&t)return t.props.children;if(e&&!t)return this.createStyleElement(this.processCSSText(e),this.getScopeClassName(e,t));var r=t.props.className?t.props.className+" ":"",a=void 0,o=void 0,s=r+(t.props.id?t.props.id:"")+e;return this.scopeClassNameCache[s]?(a=this.scopeClassNameCache[s],o=this.scopedCSSTextCache[a]):(a=this.getScopeClassName(e,t),o=this.processCSSText(e,"."+a,this.getRootSelectors(t)),this.scopeClassNameCache[s]=a,this.scopedCSSTextCache[a]=o),(0,i.cloneElement)(t,n({},t.props,{className:""+r+a}),this.getNewChildrenForCloneElement(o,t,a))}}]),t}(i.Component);u.it=function(e,t){return s.default.createElement(u,null,e,t)},t.default=u},function(e,t){var r=65521;e.exports=function(e){for(var t=1,n=0,a=0,o=e.length,i=-4&o;a<i;){for(var s=Math.min(a+4096,i);a<s;a+=4)n+=(t+=e.charCodeAt(a))+(t+=e.charCodeAt(a+1))+(t+=e.charCodeAt(a+2))+(t+=e.charCodeAt(a+3));t%=r,n%=r}for(;a<o;a++)n+=t+=e.charCodeAt(a);return(t%=r)|(n%=r)<<16}},function(t,r){t.exports=e}])},Bu.exports=Fu(e.exports);var qu=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var a=n[r];e.call(t,a[1],a[0])}},t}()}(),Qu="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,zu="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Vu="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(zu):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Hu=["top","right","bottom","left","width","height","size","weight"],Ku="undefined"!=typeof MutationObserver,Yu=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&s()}function i(){Vu(o)}function s(){var e=Date.now();if(r){if(e-a<2)return;n=!0}else r=!0,n=!1,setTimeout(i,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Qu&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ku?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Qu&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Hu.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Wu=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},Gu=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||zu},Ju=nm(0,0,0,0);function Xu(e){return parseFloat(e)||0}function Zu(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Xu(e["border-"+r+"-width"])}),0)}function em(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Ju;var n=Gu(e).getComputedStyle(e),a=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var a=n[r],o=e["padding-"+a];t[a]=Xu(o)}return t}(n),o=a.left+a.right,i=a.top+a.bottom,s=Xu(n.width),l=Xu(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==t&&(s-=Zu(n,"left","right")+o),Math.round(l+i)!==r&&(l-=Zu(n,"top","bottom")+i)),!function(e){return e===Gu(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+i)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return nm(a.left,a.top,s,l)}var tm="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Gu(e).SVGGraphicsElement}:function(e){return e instanceof Gu(e).SVGElement&&"function"==typeof e.getBBox};function rm(e){return Qu?tm(e)?function(e){var t=e.getBBox();return nm(0,0,t.width,t.height)}(e):em(e):Ju}function nm(e,t,r,n){return{x:e,y:t,width:r,height:n}}var am=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nm(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=rm(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),om=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(o.prototype);return Wu(i,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),i}(t);Wu(this,{target:e,contentRect:r})},im=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new qu,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Gu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new am(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Gu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new om(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),sm="undefined"!=typeof WeakMap?new WeakMap:new qu,lm=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Yu.getInstance(),n=new im(t,r,this);sm.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){lm.prototype[e]=function(){var t;return(t=sm.get(this))[e].apply(t,arguments)}}));var cm=void 0!==zu.ResizeObserver?zu.ResizeObserver:lm,um=a(Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"})));!function(t){var r=Ru.exports,n=s.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(o.exports),l=n(Tu.exports),c=n($u.exports),u=r(e.exports),m=n(Bu.exports),p=n(um),d=n(i.exports),f=function(e){var t=e.children,r=e.style,n=e.styleSubcontainer,o=e.scrollPadding,i=e.scrollColor,s=e.scrollWidth,d=e.isShadow,f=e.shadow,h=e.scrollColorHover,v=(0,c.default)(e,["children","style","styleSubcontainer","scrollPadding","scrollColor","scrollWidth","isShadow","shadow","scrollColorHover"]),g=(0,u.useRef)(),y=(0,u.useState)(!1),b=(0,l.default)(y,2),E=b[0],w=b[1];(0,u.useLayoutEffect)((function(){var e=new p.default((function(){g.current.clientHeight<g.current.scrollHeight?w(!0):w(!1)}));return e.observe(g.current),function(){e.disconnect()}}),[g]);var _="\n    .container {\n      width: 100%;\n      overflow-y: hidden;\n      box-sizing: border-box;\n      display: flex;\n      box-shadow: ".concat(d&&E?f:"none","\n    }\n    .subcontainer {\n      padding-right: ").concat(o,"px;\n      overflow-y: auto;\n      flex: 1;\n      scrollbar-color: ").concat(i+" transparent",";\n      scrollbar-width: thin;\n    }\n    .subcontainer::-webkit-scrollbar {\n      width: ").concat(s,"px;\n      background: transparent;\n    },\n    .subcontainer::-webkit-scrollbar-track { background: transparent }\n    .subcontainer::-webkit-scrollbar-thumb {\n      background: ").concat(i,";\n      border-radius: 5px;\n      overflow: hidden;\n    }\n    .subcontainer::-webkit-scrollbar-thumb:hover { background: ").concat(h," }\n  ");return u.default.createElement(m.default,null,_,u.default.createElement("div",(0,a.default)({"aria-label":"container-scroll",style:r,className:"container"},v),u.default.createElement("div",{"aria-label":"subcontainer-scroll",ref:g,className:"subcontainer",style:n},t)))};f.propTypes={scrollColor:d.default.string,scrollColorHover:d.default.string,scrollWidth:d.default.number,isShadow:d.default.bool,shadow:d.default.string,styleSubcontainer:d.default.object},f.defaultProps={scrollColor:"#c5c5c5",scrollColorHover:"#a6a6a6",scrollWidth:8,scrollPadding:0,isShadow:!0,shadow:"0 2px 4px rgba(0, 0, 0, 0.2) inset, 0 -2px 4px rgba(0, 0, 0, 0.2) inset"};var h=(0,u.memo)(f);t.default=h}(ku),function(e){var t=s.exports;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.default}});var r=t(ku)}(Pu);var mm=l(Pu),pm={},dm=Ru.exports,fm=s.exports;Object.defineProperty(pm,"__esModule",{value:!0});var hm=pm.default=void 0,vm=fm(Tu.exports),gm=fm(c.exports),ym=dm(e.exports),bm=function(e,t,r){return Math.max(Math.min(t,r),e)},Em=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",t={minHeight:"y"===e?"minHeight":"minWidth",height:"y"===e?"height":"width",maxHeight:"y"===e?"maxHeight":"maxWidth"};return function(e){var r;return r={},(0,gm.default)(r,t.minHeight,e),(0,gm.default)(r,t.height,e),(0,gm.default)(r,t.maxHeight,e),(0,gm.default)(r,"overflowAnchor","none"),(0,gm.default)(r,"pointerEvents","none"),(0,gm.default)(r,"userSelect","none"),(0,gm.default)(r,"padding",0),(0,gm.default)(r,"margin",0),(0,gm.default)(r,"border","none"),r}},wm=function(){try{return window.CSS.supports("overflow-anchor: auto")}catch(e){return!1}}(),_m=ym.default.forwardRef((function(e,t){var r=e.viewportRef,n=void 0===r?null:r,a=e.items,o=void 0===a?[]:a,i=e.itemMinSize,s=e.margin,l=void 0===s?0:s,c=e.overscan,u=void 0===c?1:c,m=e.axis,p=void 0===m?"y":m,d=e.initialIndex,f=void 0===d?0:d,h=e.initialAlignToTop,v=void 0===h||h,g=e.children,y=(0,ym.useMemo)((function(){return{propName:{top:"y"===p?"top":"left",bottom:"y"===p?"bottom":"right",clientHeight:"y"===p?"clientHeight":"clientWidth",scrollTop:"y"===p?"scrollTop":"scrollLeft",overflowY:"y"===p?"overflowY":"overflowX"},getStyle:Em(p)}}),[p]),b=y.propName,E=y.getStyle,w=o.length-1,_=i+l,N=u*_,x=(0,ym.useState)((function(){var e=bm(0,f,w);return[e,e]})),S=(0,vm.default)(x,2),O=(0,vm.default)(S[0],2),C=O[0],P=O[1],k=S[1],R=(0,ym.useRef)(null),j=(0,ym.useRef)(null),T=(0,ym.useRef)({cache:[],step:function(){},scrollToIndex:C?{index:C,alignToTop:v}:null,scrollCompensationEndIndex:null}),I=bm(0,C,w),L=bm(I,P,w),A=(0,ym.useMemo)((function(){return E(T.current.cache.slice(0,I).reduce((function(e,t){return e+t}),I*_))}),[I,_,E]),M=(0,ym.useMemo)((function(){return E(T.current.cache.slice(L+1,w).reduce((function(e,t){return e+t}),_*(w-L)))}),[L,w,_,E]),U=(0,ym.useMemo)((function(){return o.slice(I,L+1).map((function(e,t){return g(e,I+t)}))}),[o,I,L,g]);return T.current.step=function(){var e,t,r,a=n&&n.current&&n.current.getBoundingClientRect(),o=(a?bm(0,a[b.top],document.documentElement[b.clientHeight]):0)-N,s=(a?bm(0,a[b.bottom],document.documentElement[b.clientHeight]):document.documentElement[b.clientHeight])+N,c=R.current.nextSibling.getBoundingClientRect(),u=j.current.previousSibling.getBoundingClientRect(),m=Math.ceil((s-o)/_),p=C,d=P;if(T.current.scrollToIndex){var f=bm(0,T.current.scrollToIndex.index,w);if(f>=C&&f<=P){for(t=C,r=R.current.nextSibling;r!==j.current;){if(t===f){r.scrollIntoView(T.current.scrollToIndex.alignToTop),T.current.scrollToIndex=null;break}r=r.nextSibling,++t}return}p=f-m,d=f+m}else if(c[b.top]>=s){for(e=c[b.top]-s,d=C;e>=0&&d>0;)e-=(T.current.cache[--d]||0)+_;T.current.scrollCompensationEndIndex=C,p=d-m}else if(u[b.bottom]+l<=o){for(e=o-u[b.bottom]+l,p=P;e>=0&&p<w;)e-=(T.current.cache[++p]||0)+_;d=p+m}else{if(c[b.bottom]+l<o)++p;else if(c[b.top]>=o){for(e=c[b.top]-o;e>=0&&p>0;)e-=(T.current.cache[--p]||0)+_;T.current.scrollCompensationEndIndex=C}if(u[b.bottom]+l<=s)for(e=s-u[b.bottom]-l;e>=0&&d<w;)e-=(T.current.cache[++d]||0)+_;else u[b.top]>s&&--d}if(p=bm(0,p,w),d=bm(p,d,w),p!==C||d!==P){for(t=C,r=R.current.nextSibling;t<=P&&r!==j.current;)T.current.cache[t++]=r[b.clientHeight]-i,r=r.nextSibling;k([p,d])}},(0,ym.useImperativeHandle)(t,(function(){return{scrollToIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T.current.scrollToIndex={index:e,alignToTop:t}}}}),[]),(0,ym.useLayoutEffect)((function(){if(null!==T.current.scrollCompensationEndIndex)if(n&&!wm){for(var e=C,t=R.current.nextSibling,r=0;e<T.current.scrollCompensationEndIndex&&t!==j.current;)r+=t[b.clientHeight]-(T.current.cache[e]||0)-i,t=t.nextSibling,++e;n&&r&&(n.current.style[b.overflowY]="hidden",n.current[b.scrollTop]+=r,n.current.style[b.overflowY]=null),T.current.scrollCompensationEndIndex=null}else T.current.scrollCompensationEndIndex=null}),[n,C,i,b]),(0,ym.useEffect)((function(){var e=null;return function t(){e=requestAnimationFrame(t),T.current.step()}(),function(){return cancelAnimationFrame(e)}}),[]),ym.default.createElement(ym.Fragment,{key:"ViewPortList"},ym.default.createElement("div",{key:"ViewPortListTop",ref:R,style:A}),U,ym.default.createElement("div",{key:"ViewPortListBottom",ref:j,style:M}))}));hm=pm.default=_m;const Nm={action_copy:"Copy",action_download:"Download",action_open:"Open",action_reload:"Reload",comparison:{EQ:"Equal to",GT:"Greater than",GTE:"Equal or greater than",LT:"Lower than",LTE:"Equal or lower than",NEQ:"Not equal to"},debug_view:{httpheaders:"Response headers",jssource_prefix:"Javascript source for ",jssource_suffix:"",url_aggregate:"Aggregate API URL",url_logiclayer:"LogicLayer API URL"},direction:{ASC:"Ascending",DESC:"Descending"},formats:{csv:"CSV",json:"JSON",jsonarrays:"JSON Arrays",jsonrecords:"JSON Records",xls:"XLS"},loading:{title:"Loading...",message_heavyquery:"The current query might contain a maximum of {{rows}} rows.\nPlease wait...",message_default:"Please wait..."},params:{action_clear:"Clear query",action_clear_description:"Clear all parameters from your current query",action_execute:"Execute query",column_title:"Parameters",current_endpoint:"Current endpoint: {{label}}",dimmenu_abbrjoint:": ",dimmenu_dimension:"{{dimension}}",dimmenu_hierarchy:"{{abbr}}",dimmenu_level:"{{abbr}}",error_fetchmembers_detail:"An error ocurred while loading the member list.",error_fetchmembers_title:"Error loading member list",label_amount:"Amount",label_boolean_debug:"Debug response",label_boolean_distinct:"Apply DISTINCT to drilldowns",label_boolean_exclude_default_members:"Exclude default members",label_boolean_full_results:"Show all rows",label_boolean_nonempty:"Only return non-empty data",label_boolean_parents:"Include parent levels",label_boolean_sparse:"Optimize sparse results",label_cube:"Cube:\n{{name}}\n{{caption}}",label_locale:"Language: {{nativeName}}",label_measure:"Measure",label_pagination_limit:"Results limit",label_pagination_offset:"Results offset",label_sorting_key:"Sort by",label_sorting_order:"Order",label_source:"Source",label_subtopic:"Subtopic: {{label}}",label_table:"Table: {{label}}",label_timelevel:"Time level",label_topic:"Topic: {{label}}",search_placeholder:"Filter (regex enabled)",tag_cuts_plural:"{{abbr}} ({{n}} selected)",tag_cuts:"{{abbr}} ({{first_member}})",tag_drilldowns_abbrjoint:"/",tag_drilldowns:"{{abbr}}",title_area_cuts:"Cuts ({{n}})",title_area_drilldowns:"Drilldowns ({{n}})",title_area_filters:"Filters ({{n}})",title_area_measures:"Measures ({{n}})",title_area_options:"Query options",title_area_pagination:"Pagination",title_area_sorting:"Sorting",title_caption:"Caption",title_downloaddata:"Download dataset",title_members:"Members",title_properties:"Properties",tooltip_area_cuts:"",tooltip_area_drilldowns:"",tooltip_area_filters:"",tooltip_area_measures:"",tooltip_area_options:""},pivot_view:{error_missingparams:"The current query doesn't have enough parameters. Two different drilldowns and a measure are needed.",error_onedimension:"The rows and columns in a pivotted table need 2 different drilldowns.",error_internal:"An internal error ocurred in the pivotting tool. We will fix it as soon as possible.",error_internal_detail:"If you need to contact us about this error, please include this message:\n{error}",label_ddcolumn:"Column drilldown",label_ddcolumnprop:"Column property",label_ddrow:"Row drilldown",label_ddrowprop:"Row property",label_formatter:"Numeral format",label_valmeasure:"Value measure",loading_details:"This might take a while, please wait...",loading_title:"Reestructuring data",title_download:"Download matrix",title_params:"Matrix params",warning_notsummeasure:'The current query contains more than 2 drilldowns, and the aggregation type of the measure is not "SUM". The values you\'re getting might not be meaningful.',warning_propertypivot:"Unlike Drilldown Members, Drilldown Properties are not guaranteed to be unique. In this view, data points are aggregated based on the property labels, so please ensure you're not missing information.",warning_sumdimensions:"There's more than 2 drilldowns in this query. Remaining values will be summed."},placeholders:{incomplete:"[Incomplete parameters]",unselected:"[Unselected]",none:"[None]"},previewMode:{btn_get_all:"Show all rows",btn_get_preview:"Show preview",description_full:"You are currently viewing all available rows. Turn off for faster performance.",description_preview:"You are currently viewing a preview response of the first {{limit}} rows.",title_full:"All records",title_preview:"Preview records"},queries:{action_create:"New query",action_parse:"Query from URL",error_not_query:"Please construct a valid query",error_no_drilldowns:"You must add at least one drilldown.",error_no_measures:"You must add at least one measure.",column_title:"Queries",unset_parameters:"No parameters set"},results:{error_execquery_detail:"There was a problem with the last query:",error_disconnected_title:"You are not connected to the internet.",error_serveroffline_title:"There's a problem contacting with the server",error_serveroffline_detail:"Check the availability of the URL ",error_emptyresult_title:"Empty dataset",error_emptyresult_detail:"The query didn't return elements. Try again with different parameters.",count_rows:"{{n}} row",count_rows_plural:"{{n}} rows"},selectlevel_placeholder:"Level...",selectmeasure_placeholder:"Measure...",selecttimelevel_placeholder:"Time level...",table_view:{numeral_format:"Numeral format",sort_asc:"Sort Asc",sort_desc:"Sort Desc"},transfer_input:{count_hidden:"{{n}} item hidden",count_hidden_plural:"{{n}} items hidden",search_placeholder:"Filter (regex enabled)",select_all:"Select all",unselect_all:"Unselect all",select_filtered:"Select filtered",unselect_filtered:"Unselect filtered"}},{useTranslation:xm,TranslationConsumer:Sm,TranslationProvider:Om}=ie({defaultLocale:"en",defaultTranslation:Nm}),Cm=t=>{const{copyText:n,...a}=t,o=e.exports.useCallback((e=>{e.stopPropagation(),Ca(n)}),[n]);return r.createElement(O,Oa({},a,{onClick:o}))},Pm=e=>{const{url:t}=e,{translate:n}=xm(),a=r.createElement(y,null,r.createElement(R,{href:t,icon:"share",target:"_blank",text:n("action_open")}),r.createElement(Cm,{copyText:t,icon:"link",intent:g.PRIMARY,text:n("action_copy")}));return r.createElement(j,{leftIcon:"globe",readOnly:!0,rightElement:a,value:t})},km=e.exports.createContext(void 0),{Consumer:Rm,Provider:jm}=km,Tm=t=>{const r=e.exports.useMemo((()=>({formatters:t.formatters||{},previewLimit:t.previewLimit||100})),[t.formatters,t.previewLimit]);return e.exports.createElement(jm,{value:r},t.children)};function Im(){const t=e.exports.useContext(km);if(void 0===t)throw new Error("useSettings must be used within a SettingsProvider.");return t}const Lm={undefined:e=>e,identity:e=>`${e}`,Decimal:new Intl.NumberFormat(void 0,{useGrouping:!1}).format,Dollars:new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format,Human:e=>Ha(e,"en-US"),Milliards:new Intl.NumberFormat(void 0,{useGrouping:!0}).format},Am=["Decimal","Milliards","Human"];function Mm(t){const{formatters:r}=Im(),[n,a]=e.exports.useState({}),o=e.exports.useRef({});return e.exports.useEffect((()=>{const e=t.map((e=>{const{annotations:t}=e;return[e.name,t.format_template||t.units_of_measurement]})),r=Object.fromEntries(e);o.current=r,a(r)}),[t]),e.exports.useMemo((()=>({getAvailableKeys(e){const t=o.current[e];return t?[t].concat(Am):Am},getFormatterKey:e=>n[e]||o.current[e],getFormatter(e){if(/^[A-Z]{3}$/.test(e))return r[e]||(e=>{const t={style:"currency",currency:e},n=new Intl.NumberFormat(void 0,t).format;return r[e]=n,n})(e);try{return r[e]||Lm[e]||(".3~a"===(t=e)?Ha:Ua(t))}catch{return console.error(`Formatter not configured: "${e}"`),Lm.identity}var t},setFormat(e,t){a({...n,[e]:t})}})),[n,o.current])}function Um(e){return[].concat(e).filter((e=>null!=e))}function $m(e,t){const r=[];for(let n=0;n<e.length;n++){const a=t(e[n],n,e);null!==a&&r.push(a)}return r}function Dm(){return Math.random().toString(16).slice(2)}function Fm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return Bm(e,"caption",t)||e.caption||e.name}function Bm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"xx";const n=e.annotations;return n[`${t}_${r}`]||n[`${t}_${r.slice(0,2)}`]||n[t]}const qm=t=>{const{cube:n,params:a,result:o}=t,i=o.data,s=a.locale,{translate:l}=xm(),{getAvailableKeys:c,getFormatter:m,getFormatterKey:p,setFormat:v}=Mm(n.measures),g=e.exports.useMemo((()=>{const e=i[0],t=function(e,t){const r=Object.fromEntries(e.measures.map((e=>[e.name,e]))),n=Object.fromEntries(e.dimensions.map((e=>[e.name,Object.fromEntries(e.hierarchies.map((e=>[e.name,Object.fromEntries(e.levels.map((e=>[e.name,e])))])))]))),a=t.measures.map((e=>r[e])),o=Object.values(t.drilldowns).flatMap((e=>{const t=n[e.dimension][e.hierarchy][e.level];return[t,...$m(e.properties,(e=>e.active&&t.properties.find((t=>t.name===e.name))||null))]}));return e=>{const t=e.replace(/^ID\s|\sID$/,"");return o.find((t=>t.uniqueName===e))||a.find((t=>t.name===e))||o.find((t=>t.name===e))||o.find((e=>e.uniqueName===t))||a.find((e=>e.name===t))||o.find((e=>e.name===t))}}(n,a);return Object.keys(e).map((r=>{const n=typeof e[r],a=p(r)||("number"===n?"Decimal":"identity"),o=m(a),i=t(r),l=i&&(r.endsWith(" ID")&&!i.name.endsWith(" ID")||r.startsWith("ID ")&&!i.name.startsWith("ID "));return{columnKey:r,dataType:n,entity:i,caption:i?Fm(i,s)+(l?" ID":""):r,formatter:o,formatterKey:a,isNumeric:i?"measure"===i._type:l&&"number"===n}}))}),[n,i,s,a]),[y,b]=e.exports.useState(""),[E,w]=e.exports.useState(!0),_=e.exports.useMemo((()=>function(e,t){let r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Array.isArray(e)||e.length<2)return e;const a=e[0];return r=Number.isFinite(a[t])&&!Number.isNaN(a[t])?n?(e,r)=>r[t]-e[t]:(e,r)=>e[t]-r[t]:n?(e,r)=>`${r[t]}`.localeCompare(`${e[t]}`):(e,r)=>`${e[t]}`.localeCompare(`${r[t]}`),e.sort(r)}(i.slice(),y,E)),[i,y,E]),N=e.exports.useCallback(((e,t)=>{const r=g[t],n=_[e][r.columnKey];return r.formatter(n)}),[_,g]),x=e.exports.useMemo((()=>g.map((e=>{const{dataType:t,caption:n,formatter:a,formatterKey:o,isNumeric:i,columnKey:s}=e,u=()=>r.createElement(L,null,r.createElement(h,{icon:"sort-asc",onClick:()=>[b(s),w(!1)],text:l("table_view.sort_asc")}),r.createElement(h,{icon:"sort-desc",onClick:()=>[b(s),w(!0)],text:l("table_view.sort_desc")}),i&&r.createElement(A,{title:l("table_view.numeral_format")}),i&&c(s).map((e=>r.createElement(h,{key:e,icon:o===e?"selection":"circle",onClick:()=>v(s,e),text:m(e)(12345.678)}))));return r.createElement(d,{cellRenderer:(e,n)=>{const o=_[e][s];return r.createElement(T,{className:`column-${t}`,columnIndex:n,rowIndex:e},a(o))},columnHeaderCellRenderer:e=>r.createElement(I,{index:e,name:n,menuRenderer:u}),key:s,id:s,name:n})}))),[_,g]);return r.createElement(f,{className:u("data-table",t.className),enableColumnResizing:!0,enableRowResizing:!1,getCellClipboardData:N,numRows:_.length,rowHeights:_.map((()=>22))},x)};qm.displayName="TesseractExplorer:TableView";const Qm="undefined"==typeof Symbol?"__target":Symbol();let zm="object"==typeof window?window.Worker:null;if(zm){let eh;const th=Vm("self.onmessage = function () {}"),rh=new Uint8Array(1);try{if(/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent))throw new Error("Not available");eh=new zm(th),eh.postMessage(rh,[rh.buffer])}catch(Zf){zm=null}finally{URL.revokeObjectURL(th),eh&&eh.terminate()}}function Vm(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(Zf){const r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(e),URL.createObjectURL(r.getBlob("application/javascript"))}}var Hm,Km=(Hm=e=>{e.onmessage=function(r){const{data:n,sides:a}=r.data,o=t(n,a);e.postMessage(o)};const t=new Function("data","sides",'\n    const {valProp} = sides;\n    const colProp = getIdProperty(sides.colProp);\n    const rowProp = getIdProperty(sides.rowProp);\n\n    /** @type {Set<string>} */ const colMembers = new Set();\n    /** @type {Set<string>} */ const rowMembers = new Set();\n\n    /** @type {Map<string, string>} */ const colDict = new Map();\n    /** @type {Map<string, string>} */ const rowDict = new Map();\n\n    /** @type {Map<string, Record<string, number>[]>} */\n    const valReference = new Map();\n\n    const n = data.length;\n    let i = 0;\n    while (i < n) {\n      const datum = data[i++];\n\n      const colId = datum[colProp];\n      const rowId = datum[rowProp];\n      colMembers.add(colId);\n      rowMembers.add(rowId);\n      getValueReference(colId, rowId).push(datum);\n\n      const colLabel = datum[sides.colProp];\n      const rowLabel = datum[sides.rowProp];\n      colDict.set(colId, colLabel);\n      rowDict.set(rowId, rowLabel);\n    }\n\n    const sortedCols = Array.from(colMembers).sort();\n\n    return {\n      headers: [\n        sides.rowProp,\n        ...sortedCols.map(colId => colDict.get(colId) || colId)\n      ],\n      data: Array.from(rowMembers, rowId => [\n        rowDict.get(rowId) || rowId,\n        ...sortedCols.map(colId => {\n          const items = getValueReference(colId, rowId);\n          if (items.length === 0) return undefined;\n          const value = items.reduce((sum, datum) => sum + datum[valProp], 0);\n          return isNaN(value) ? undefined : value;\n        })\n      ])\n    };\n\n    /**\n   * Gets the property name for the ID of the required property.\n   * @type {(prop: string) => string}\n   */\n    function getIdProperty(prop) {\n      return {}.hasOwnProperty.call(data[0], prop + \' ID\') ? prop + \' ID\' : prop;\n    }\n\n    /**\n   * Retrieves the container array for the elements in the data that match a\n   * specified (col, row) tuple. If this array was not previously defined, is\n   * created.\n   * @type {(colId: string, rowId: string) => Record<string, number>[]}\n   */\n    function getValueReference(colId, rowId) {\n      const key = "".concat("<", colId, ">x<", rowId, ">");\n      const value = valReference.get(key);\n      if (value !== undefined) return value;\n      const defaultValue = [];\n      valReference.set(key, defaultValue);\n      return defaultValue;\n    }\n  ')},function(e){const t=this;if(zm&&!e){const e=Vm(`(${Hm.toString().trim()})(this);`);return this[Qm]=new zm(e),URL.revokeObjectURL(e),this[Qm]}const r={postMessage(e){console.debug("Message from shim worker to main:",e),t.onmessage&&setTimeout((()=>{t.onmessage({data:e,target:r})}))},terminate(){console.debug("Worker terminated by shim worker.")}};Hm.call(r,r),this.postMessage=function(e){console.debug("Message from main to shim worker:",e),setTimeout((()=>{r.onmessage({data:e,target:t})}))},this.terminate=function(){console.debug("Worker terminated by main.")},this.isThisThread=!0});function Ym(e,t){return new Promise(((r,n)=>{const a=new Km;a.onmessage=e=>{r(e.data),a.terminate()},a.onerror=e=>{n(e),a.terminate()};try{a.postMessage({data:e,sides:t})}catch(o){n(o)}}))}function Wm(e,t){const r="function"==typeof t?t:e=>e[t],n=new Map;for(let a=0;a<e.length;a++){const t=e[a],o=r(t);if(null==o)continue;const i=n.get(o);i?i.push(t):n.set(o,[t])}return n}function Gm(e){return e.some((e=>e.indexOf(".")>-1))?e.map((e=>`[${e}]`)).join("."):e.join(".")}function Jm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n="function"==typeof t?t:e=>e[t];for(let a=0;a<e.length;a++){const t=e[a];r[n(t)]=t}return r}function Xm(e){return"string"==typeof e&&(e=ep(e)),1===e.length&&e.unshift(e[0]),2===e.length&&e.unshift(e[0]),{dimension:(t=e)[0],hierarchy:t[1],level:t[2]};var t}function Zm(e,t){let r;try{r=new RegExp(e,t)}catch(Zf){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(e,t)}return r}function ep(e){const t=e.indexOf("].[")>-1?e.replace(/^\[|\]$/g,"").split("].["):e.split(".");return 1===t.length&&t.unshift(t[0]),2===t.length&&t.unshift(t[0]),t}function tp(e){const t=function(e){return[e.dimension,e.hierarchy,"level"in e?e.level:e.name]}(e);return t[0]===t[1]&&t.splice(0,1),t[0]===t[1]&&t.splice(0,1),Gm(t)}function rp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys({...e,...t});return r.every((r=>"function"==typeof e[r]||e[r]==t[r]))}function np(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(e,r)=>t.every((t=>e[t]===r[t]))}const ap=[{condition:function(e){return"object"==typeof e&&null!==e&&"string"==typeof e.cube&&e.cube.length>0&&"object"==typeof e.drilldowns&&null!==e.drilldowns&&Array.isArray(e.measures)},error:"queries.error_not_query"},{condition:e=>e.measures.length>0,error:"queries.error_no_measures"},{condition:e=>Object.values(e.drilldowns).reduce(lp,0)>0,error:"queries.error_no_drilldowns"}];function op(e){return ap.every((t=>t.condition(e)))}function ip(e){return sp(e)&&e.members.length>0}function sp(e){return e.active}function lp(e,t){return e+(sp(t)?1:0)}const cp={csv:"text/csv",json:"application/json",tsv:"text/tab-separated-values",txt:"text/plain",xls:"application/vnd.ms-excel"},up=t=>{const{provider:n,...a}=t,o=e.exports.useCallback((e=>{e.stopPropagation(),e.preventDefault();const t=document.createElement("a"),r="function"==typeof n?n():n;Promise.resolve(r).then((e=>{const r="string"!=typeof e.content?e.content:new window.Blob([e.content],{type:cp[e.extension]||"application/octet-stream"}),n=window.URL.createObjectURL(r);t.href=n,t.download=`${e.name}.${e.extension}`,t.addEventListener("click",(()=>{setTimeout((()=>{window.URL.revokeObjectURL(n)}),5e3)}),!1),t.click()}),(e=>{console.error("Error downloading content:",e.message)}))}),[n]);return r.createElement(O,Oa({},a,{onClick:o}))},mp=(e,t)=>{const r=Zm(e,"i");return t.filter((e=>r.test(e.toString())))},pp=(e,t)=>{const{modifiers:n}=t;return r.createElement(h,{active:n.active,disabled:n.disabled,key:e.toString(),onClick:t.handleClick,text:e.toString()})},dp=e=>{var t,n;const{translate:a}=xm();return r.createElement(C,{className:u("select-primitive",e.className),itemListPredicate:e.itemListPredicate||mp,itemListRenderer:e.itemListRenderer,itemRenderer:e.itemRenderer||pp,items:e.items,filterable:null!=(t=e.filterable)?t:e.items.length>6,onItemSelect:e.onItemSelect,popoverProps:{boundary:"viewport",fill:e.fill,minimal:e.minimal,captureDismiss:!0,portalClassName:u("select-primitive-overlay",e.className)}},r.createElement(O,{alignText:P.LEFT,className:u("select-primitive-target",e.className),fill:e.fill,loading:e.loading,icon:e.icon,rightIcon:e.rightIcon,text:null!=(n=e.selectedItem)?n:a("placeholders.unselected")}))};dp.defaultProps={fill:!1,loading:!1,minimal:!0,rightIcon:"double-caret-vertical"};const fp=e=>{const{getLabel:t}=e;return r.createElement(dp,{className:e.className,fill:e.fill,filterable:e.filterable,loading:e.loading,minimal:e.minimal,icon:e.icon,rightIcon:e.rightIcon,items:e.items,itemListPredicate:(e,r)=>{const n=Zm(e,"i");return r.filter((e=>n.test(t(e))))},itemListRenderer:e.itemListRenderer,itemRenderer:(e,n)=>{const{modifiers:a}=n,o=t(e);return r.createElement(h,{active:a.active,disabled:a.disabled,key:o,onClick:n.handleClick,text:o})},onItemSelect:e.onItemSelect,selectedItem:e.selectedItem})},hp=e.exports.memo((e=>{const{data:t,formatter:n}=e,a=(e,r)=>{const a=t[e][r];return r>0&&"number"==typeof a?["column-number",n(a)]:["column-string",a||""]},o=(e,t)=>{const n=a(e,t);return r.createElement(T,{className:n[0],columnIndex:t,rowIndex:e},n[1])};return r.createElement(f,{className:"preview flex-grow flex-shrink min-w-0",enableColumnResizing:!0,enableRowResizing:!1,getCellClipboardData:(e,t)=>a(e,t)[1],numRows:t.length,rowHeights:Array(t.length).fill(22)},e.headers.slice(0,40).map((e=>r.createElement(d,{cellRenderer:o,id:e,key:e,name:e}))))}));function vp(e,t,r){const n={csv:",",tsv:"\t"}[r],a=e=>{const t=`${e}`.trim();return xo(t).call(t,n)?JSON.stringify(t):t},o=e=>void 0===e?"":a(t(e));return[e.headers.map(a).join(n),...e.data.map((e=>[a(e[0]),...e.slice(1).map(o)].join(n)))].join("\n")}function gp(e,t){return{type:e,payload:t}}function yp(e,t){const r={...e};return delete r[t],r}function bp(e){return Object.keys(e)}function Ep(e){return Object.values(e)}function wp(e){var t;const r=null==(t=e.annotations)?void 0:t.order;return r&&!isNaN(r)?parseInt(r,10):99}const _p={error:null,loading:!0,status:"FETCHING",trigger:null};function Np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p,t=arguments.length>1?arguments[1]:void 0;const r=`${t.type}`,n=(t.action||t).type;return"explorer/LOADING/SET_MESSAGE"===r?{...e,message:t.payload}:r.endsWith(":REQUEST")?{error:null,loading:!0,status:"FETCHING",trigger:n}:r.endsWith(":SUCCESS")?{error:null,loading:!1,status:"SUCCESS",trigger:n}:r.endsWith(":FAILURE")?{error:t.payload,loading:!1,status:"FAILURE",trigger:n}:e}const xp=(e,t)=>gp(`explorer/LOADING/SET_STATUS:${e}`,t),Sp=e=>gp("explorer/LOADING/SET_MESSAGE",e);function Op(e){const t=e.params||{};return{created:e.created||(new Date).toISOString(),key:e.key||Dm(),label:e.label||"",isDirty:!0,params:{booleans:t.booleans||{},cube:t.cube||"",cuts:t.cuts||{},drilldowns:t.drilldowns||{},filters:t.filters||{},locale:t.locale||"",measures:t.measures||[],pagiLimit:t.pagiLimit||t.limitAmount||t.limit||0,pagiOffset:t.pagiOffset||t.limitOffset||t.offset||0,sortDir:t.sortDir||t.sortDirection||t.sortOrder||t.order||"desc",sortKey:t.sortKey||t.sortProperty||""},result:{data:[],error:null,headers:{},sourceCall:"",status:0,urlAggregate:"",urlLogicLayer:""}}}function Cp(e){"function"==typeof e.toJSON&&(e=e.toJSON());const t=`${e.dimension}`,r=`${e.hierarchy}`,n=`${e.level||e.name}`;return{active:"boolean"==typeof e.active&&e.active,dimension:t,fullName:e.fullName||Gm([t,r,n]),hierarchy:r,key:e.key||Dm(),level:n,members:Array.isArray(e.members)?e.members:[],uniqueName:e.uniqueName||n}}function Pp(e){const t="object"==typeof e.dimension?e.dimension.dimensionType:e.dimType;"function"==typeof e.toJSON&&(e=e.toJSON());const r=`${e.dimension}`,n=`${e.hierarchy}`,a=`${e.level||e.name}`;return{active:"boolean"!=typeof e.active||e.active,captionProperty:e.captionProperty||"",dimension:r,dimType:t,fullName:e.fullName||Gm([r,n,a]),hierarchy:n,key:e.key||Dm(),level:a,memberCount:0,properties:Um(e.properties).map(jp),uniqueName:e.uniqueName||e.name||e.level}}function kp(e){return"function"==typeof e.toJSON&&(e=e.toJSON()),{active:"boolean"!=typeof e.active||e.active,comparison:e.comparison||"=",inputtedValue:"string"==typeof e.inputtedValue?e.inputtedValue:"0",interpretedValue:!Number.isNaN(e.interpretedValue)&&Number.isFinite(e.interpretedValue)?Number.parseFloat(e.interpretedValue):0,key:e.key||Dm(),measure:`${e.measure||e.name}`}}function Rp(e){return{active:"boolean"==typeof e.active&&e.active,key:e.uri||e.fullName||e.key,name:e.name||e.key||`${e}`}}function jp(e){return{active:"boolean"==typeof e.active&&e.active,key:e.uri||e.fullName||e.key||Dm(),level:e.level,name:e.name||e.property,uniqueName:e.uniqueName||e.name}}const Tp={"explorer/QUERY/BOOLEANS/TOGGLE":(e,t)=>{let{key:r,value:n}=t;return{...e,booleans:{...e.booleans,[r]:"boolean"==typeof n?n:!e.booleans[r]}}},"explorer/QUERY/CUBE/UPDATE":(e,t)=>{let{cube:r,measures:n}=t;return r!==e.cube?Op({params:{cube:r,measures:n,locale:e.locale}}).params:n.length!==e.measures.length?{...e,cube:r,measures:n}:e},"explorer/QUERY/CUTS/CLEAR":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...e,cuts:t}},"explorer/QUERY/CUTS/REMOVE":(e,t)=>({...e,cuts:yp(e.cuts,t)}),"explorer/QUERY/CUTS/UPDATE":(e,t)=>({...e,cuts:{...e.cuts,[t.key]:t}}),"explorer/QUERY/DRILLDOWNS/CLEAR":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...e,drilldowns:t}},"explorer/QUERY/DRILLDOWNS/REMOVE":(e,t)=>({...e,drilldowns:yp(e.drilldowns,t)}),"explorer/QUERY/DRILLDOWNS/UPDATE":(e,t)=>({...e,drilldowns:{...e.drilldowns,[t.key]:t}}),"explorer/QUERY/FILTERS/CLEAR":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...e,filters:t}},"explorer/QUERY/FILTERS/REMOVE":(e,t)=>({...e,filters:yp(e.filters,t)}),"explorer/QUERY/FILTERS/UPDATE":(e,t)=>({...e,filters:{...e.filters,[t.key]:t}}),"explorer/QUERY/INYECT":(e,t)=>({...e,...t}),"explorer/QUERY/LOCALE/UPDATE":(e,t)=>({...e,locale:t}),"explorer/QUERY/MEASURES/CLEAR":e=>({...e,measures:[]}),"explorer/QUERY/MEASURES/UPDATE":(e,t)=>{return{...e,measures:(r=e.measures,n=t,xo(r).call(r,n)?function(e,t){const r=e.indexOf(t),n=e.slice();return n.splice(r,1),n}(r,n):function(e,t){return e.concat(t)}(r,n))};var r,n},"explorer/QUERY/PAGINATION/UPDATE":(e,t)=>({...e,pagiLimit:t.pagiLimit,pagiOffset:t.pagiOffset}),"explorer/QUERY/SORTING/UPDATE":(e,t)=>({...e,sortDir:t.sortDir,sortKey:t.sortKey}),"explorer/QUERY/FULL_RESULTS/UPDATE":(e,t)=>({...e,pagiLimit:t.pagiLimit,booleans:{...e.booleans,full_results:"boolean"==typeof t.fullResults&&t.fullResults}})},Ip=e=>({type:"explorer/QUERY/CUTS/CLEAR",payload:e}),Lp=e=>({type:"explorer/QUERY/CUTS/UPDATE",payload:e}),Ap=e=>({type:"explorer/QUERY/DRILLDOWNS/CLEAR",payload:e}),Mp=e=>({type:"explorer/QUERY/DRILLDOWNS/UPDATE",payload:e}),Up=(e,t)=>({type:"explorer/QUERY/PAGINATION/UPDATE",payload:{pagiLimit:e,pagiOffset:t}}),$p=(e,t)=>({type:"explorer/QUERY/SORTING/UPDATE",payload:{sortKey:e,sortDir:t}});function Dp(e){return"explorer"in e?e.explorer.explorerQueries:e.explorerQueries}const Fp=Cu(Dp,(e=>e.itemMap)),Bp=Cu(Fp,(e=>function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Array.isArray(e)||e.length<2)return e;const n=r?(e,r)=>Date.parse(r[t])-Date.parse(e[t]):(e,r)=>Date.parse(e[t])-Date.parse(r[t]);return e.slice().sort(n)}(Object.values(e),"created",!1)));Cu(Bp,(e=>e.map((e=>e.key))));const qp=Cu(Dp,(e=>e.itemMap[e.current]));function Qp(e){return"explorer"in e?e.explorer.explorerServer:e.explorerServer}const zp=Cu(Qp,(e=>e.software)),Vp=Cu(Qp,(e=>e.endpoint)),Hp=Cu(zp,(e=>e===hu.softwareName?[Zl.csv,Zl.jsonarrays,Zl.jsonrecords]:[Zl.csv,Zl.json,Zl.jsonrecords,Zl.xls])),Kp=Cu(zp,(e=>e===hu.softwareName?["debug","exclude_default_members","parents","sparse"]:["debug","distinct","nonempty","parents","sparse"])),Yp=Cu(Qp,(e=>e.cubeMap));Cu(Yp,bp);const Wp=Cu(Yp,Ep),Gp=Cu(Qp,(e=>_u.getLanguages(e.localeOptions).map((e=>({label:e.nativeName,value:e.code}))))),Jp=Cu(qp,(e=>e.params)),Xp=Cu(Jp,(e=>e.cube)),Zp=Cu([Jp,Qp],((e,t)=>{const r=e.locale||t.localeOptions[0]||"";return{code:r,name:_u.getName(r),nativeName:_u.getNativeName(r)}})),ed=Cu(Jp,(e=>e.cuts));Cu(ed,bp);const td=Cu(ed,Ep),rd=Cu(Jp,(e=>e.drilldowns));Cu(rd,bp);const nd=Cu(rd,Ep),ad=Cu(Jp,(e=>e.filters));Cu(ad,bp),Cu(ad,Ep);const od=Cu(Jp,(e=>e.measures)),id=Cu(Jp,(e=>e.booleans)),sd=Cu(id,(e=>e.full_results)),ld=Cu(Jp,(e=>({limit:e.pagiLimit||0,offset:e.pagiOffset||0}))),cd=Cu(Jp,(e=>({sortKey:e.sortKey||"",sortDir:e.sortDir}))),ud=Cu(Jp,(e=>function(e){let t;return{isValid:ap.every((r=>{const n=r.condition(e);return n||(t=r.error),n})),error:t}}(e))),md={"explorer/RESULT/DATA/UPDATE":(e,t)=>{var r;return{...e,...t,data:t.error?[]:null!=(r=t.data)?r:e.data}}},pd="explorer/QUERIES/UPDATE",dd={current:"default",itemMap:{default:Op({key:"default"})}};function fd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dd,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;const n=hd[t];if("function"==typeof n)return n(e,r);const a=e.itemMap[e.current],o=hd[pd],i=Tp[t];if(i)return o(e,{...a,isDirty:!0,params:i(a.params,r)});const s=md[t];return s?o(e,{...a,isDirty:!r.hasOwnProperty("data")&&!r.hasOwnProperty("error")&&a.isDirty,result:s(a.result,r)}):e}const hd={"explorer/QUERIES/CLEAR":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t[e.current]?e.current:Object.keys(t)[0];return{current:r,itemMap:t}},"explorer/QUERIES/SELECT":(e,t)=>({current:t,itemMap:e.itemMap}),"explorer/QUERIES/REMOVE":(e,t)=>{if(Object.keys(e.itemMap).length<2)return e;const r=yp(e.itemMap,t);return{current:r[e.current]?e.current:Object.keys(r)[0],itemMap:r}},[pd]:(e,t)=>({current:e.current,itemMap:{...e.itemMap,[t.key]:t}})},vd=e=>({type:"explorer/QUERIES/CLEAR",payload:e}),gd=e=>({type:"explorer/QUERIES/SELECT",payload:e}),yd=e=>({type:pd,payload:e}),bd=e=>gp("explorer/RESULT/DATA/UPDATE",e),Ed={cubeMap:{},endpoint:"aggregate",localeOptions:["en"],online:void 0,software:"",url:"",version:""};function wd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,t=arguments.length>1?arguments[1]:void 0;const r=_d[t.type];return"function"==typeof r?r(e,t.payload):e}const _d={"explorer/SERVER/UPDATE":(e,t)=>({...e,...t}),"explorer/SERVER/UPDATE_ENDPOINT":(e,t)=>({...e,endpoint:t||("aggregate"===e.endpoint?"logiclayer":"aggregate")})},Nd=e=>({type:"explorer/SERVER/UPDATE",payload:e});function xd(e,t){return Object.entries(t.booleans).forEach((t=>{null!=t[1]&&e.setOption(t[0],t[1])})),Object.values(t.cuts).forEach((t=>{ip(t)&&e.addCut(t,t.members)})),Object.values(t.drilldowns).forEach((t=>{sp(t)&&(e.addDrilldown(t),t.captionProperty&&e.addCaption({...t,property:t.captionProperty}),t.properties.forEach((r=>{sp(r)&&e.addProperty({...t,property:r.name})})))})),t.measures.forEach((t=>{e.addMeasure(t)})),t.locale&&e.setLocale(t.locale),t.sortKey&&t.sortDir&&e.setSorting(t.sortKey,"desc"===t.sortDir),e.setPagination(t.pagiLimit||0,t.pagiOffset),e}function Sd(e){const t=e.cube,r=e.getParam("options"),n=e.getParam("drilldowns").map(Pp),a=e.getParam("filters").map(kp),o=e.getParam("cuts"),i=Object.keys(o).map((e=>Cp({...t.getLevel(e).toJSON(),active:!0,members:o[e],membersLoaded:!1}))),s=e.getParam("pagination"),l=e.getParam("sorting"),c=e=>e.key;return{booleans:{debug:Boolean(r.debug),distinct:Boolean(r.distinct),exclude_default_members:Boolean(r.exclude_default_members),full_results:Boolean(r.full_results),nonempty:Boolean(r.nonempty),parents:Boolean(r.parents),sparse:Boolean(r.sparse)},cube:t.name,cuts:Jm(i,c),drilldowns:Jm(n,c),filters:Jm(a,c),locale:e.getParam("locale"),measures:e.getParam("measures").map((e=>e.name)),pagiLimit:s.limit,pagiOffset:s.offset,sortDir:"asc"===l.direction?"asc":"desc",sortKey:xc.isMeasure(l.property)?l.property.name:`${l.property||""}`}}const Od={DEBUG:1,DISTINCT:2,NONEMPTY:4,PARENTS:8,SPARSE:16,EXCLUDE_DEFAULT_MEMBERS:32,FULL_RESULTS:64};const Cd=Cu(Jp,(function(e){return zi(function(e){const t=$m(Object.values(e.cuts),(e=>ip(e)?i(e):null)),r=$m(Object.values(e.drilldowns),(e=>sp(e)?s(e):null)),n=$m(Object.values(e.filters),(e=>sp(e)?l(e):null)),a=e.measures,o=Object.keys(e.booleans).reduce(((t,r)=>t+(e.booleans[r]&&Od[r.toUpperCase()]||0)),0);return{cube:e.cube,cuts:t.length>0?t:void 0,drilldowns:r.length>0?r:void 0,filters:n.length>0?n:void 0,locale:e.locale?e.locale:void 0,measures:a.length>0?a:void 0,booleans:o>0?o:void 0};function i(e){return[tp(e)].concat(e.members).join(",")}function s(e){return[tp(e)].concat($m(e.properties,(e=>sp(e)?e.name:null))).join(",")}function l(e){return`${e.measure},${e.comparison},${e.interpretedValue}`}}(e),{ignorenull:!0,skipIndex:!1,sorted:!0})}));function Pd(e,t){const r=e.cube.datasource,n={undefined:1};Object.values(t.drilldowns).forEach((e=>{n[e.uniqueName]=e.memberCount}));const a=e.getParam("drilldowns").map((e=>wc.isLevel(e)?n[e.uniqueName]||r.fetchMembers(e).then((e=>e.length)):Promise.resolve(1)));return Promise.all(a).then((e=>e.reduce(((e,t)=>e*t))))}const kd={"explorer/CLIENT/DOWNLOADQUERY":function(e,t){let{client:r,dispatch:n,getState:a}=e;const o=a(),i=Jp(o);if(!op(i))return Promise.reject(new Error("The current query is not valid."));return r.getCube(i.cube).then((e=>{const r=t.payload,a=`${e.name}_${(new Date).toISOString()}`,o=xd(e.query,i);o.setFormat(r);const s=o.toString("logiclayer");return Promise.all([fetch(s).then((e=>e.blob())),Pd(o,i).then((e=>{e>5e4&&n(Sp({type:"HEAVY_QUERY",rows:e}))}))]).then((e=>({content:e[0],extension:r.replace(/json\w+/,"json"),name:a})))}))},"explorer/CLIENT/EXECUTEQUERY":Rd,"explorer/CLIENT/FETCHMEMBERS":function(e,t){let{client:r,getState:n}=e;const a=n(),o=Xp(a),i=Zp(a);return r.getCube(o).then((e=>{const r=t.payload;let n;try{n=e.getLevel({dimension:r.dimension,hierarchy:r.hierarchy,level:"name"in r?r.name:r.level})}catch{const e=JSON.stringify(r);throw new Error(`Couldn't find level from reference: ${e}`)}return e.datasource.fetchMembers(n,{locale:i.code})}))},"explorer/CLIENT/FILLPARAMS":function(e,t){let{client:r,dispatch:n,getState:a}=e;const o=a(),i=Yp(o),s=Bp(o).map((e=>{const{params:n}=e,{cube:a,measures:o}=n,s=a&&i[a]?a:t.payload&&i[t.payload]?t.payload:Object.keys(i)[0];return r.getCube(s).then((t=>{const r=$m(t.measures,(e=>xo(o).call(o,e.name)?e.name:null)),a=Object.values(n.drilldowns).map((e=>function(e,t){const r=$m(t.properties,(e=>sp(e)?e.name:null));for(const n of e.levelIterator)if(n.matches(t))return Pp({...t,fullName:n.fullName,uniqueName:n.uniqueName,dimType:n.dimension.dimensionType,properties:n.properties.map((e=>jp({active:xo(r).call(r,e.name),level:n.uniqueName,name:e.name,uniqueName:e.uniqueName})))});return t}(t,e))).filter(Boolean),i=Jm(a,(e=>e.key));return{...e,params:{...n,cube:s,drilldowns:i,measures:r}}}))}));return Promise.all(s).then((e=>{const t=Jm(e,(e=>e.key));n(vd(t))}))},"explorer/CLIENT/PARSEQUERYURL":function(e,t){let{client:r,dispatch:n}=e;return r.parseQueryURL(t.payload,{anyServer:!0}).then((e=>{const t=Op({params:Sd(e)});n(yd(t)),n(gd(t.key))}))},"explorer/CLIENT/RELOADCUBES":function(e){let{client:t,dispatch:r}=e;return t.getCubes().then((e=>{const t=Jm($m(e,(e=>"true"===e.annotations.hide_in_ui?null:e.toJSON())),(e=>e.name));return r(Nd({cubeMap:t})),t}))},"explorer/CLIENT/REQUESTQUERY":function(e){const{dispatch:t,getState:r}=e,n=r();return op(Jp(n))?(t(xp("REQUEST")),Rd(e).then((()=>{t(xp("SUCCESS"))}),(e=>{t(xp("FAILURE",e.message))}))):Promise.resolve()},"explorer/CLIENT/SELECTCUBE":function(e,t){let{client:r,dispatch:n,getState:a}=e;const o=a(),i=od(o);return r.getCube(t.payload).then((e=>{const t=$m(e.measures,(e=>xo(i).call(i,e.name)?e.name:null));n(((e,t)=>({type:"explorer/QUERY/CUBE/UPDATE",payload:{cube:e,measures:t}}))(e.name,t))}))},"explorer/CLIENT/SETUPSERVER":function(e,t){let{client:r,dispatch:n}=e;return Eu.dataSourceFromURL(t.payload).then((e=>(r.setDataSource(e),r.checkStatus()))).then((e=>{n(Nd({online:e.online,software:e.software,url:e.url,version:e.version,endpoint:e.software===hu.softwareName?"logiclayer":"aggregate"}))}),(e=>{throw n(Nd({online:!1,software:"",url:e.config.url,version:""})),e}))}};function Rd(e){let{client:t,dispatch:r,getState:n}=e;const a=n(),o=Jp(a);return op(o)?t.getCube(o.cube).then((e=>{const n=xd(e.query,o),i=Vp(a);return Promise.all([t.execQuery(n,i),Pd(n,o).then((e=>{e>5e4&&r(Sp({type:"HEAVY_QUERY",rows:e}))}))])})).then((e=>{const[t]=e,n=t.query;return r(bd({data:t.data,error:null,headers:t.headers||{},sourceCall:n.toSource(),status:t.status,urlAggregate:n.toString("aggregate"),urlLogicLayer:n.toString("logiclayer")})),r(gp("explorer/PERMALINK/UPDATE"))})).catch((e=>{r(bd({error:e.message}))})):Promise.resolve()}const jd=()=>gp("explorer/CLIENT/EXECUTEQUERY"),Td=()=>gp("explorer/CLIENT/REQUESTQUERY"),Id=e=>gp("explorer/CLIENT/FETCHMEMBERS",e),Ld=e=>gp("explorer/CLIENT/FILLPARAMS",e),Ad=e=>gp("explorer/CLIENT/PARSEQUERYURL",e.toString());function Md(t,r,n){const a=Ui(),[o,i]=e.exports.useState(!1),s=e.exports.useMemo((()=>"string"==typeof r?r.split(",").map((e=>e.trim())):Um(r).map((e=>e.trim()))),[`${r}`]);return e.exports.useEffect((()=>{a(Nd({localeOptions:s}))}),[s]),e.exports.useEffect((()=>{a(xp("REQUEST")),i(!1),a((e=>gp("explorer/CLIENT/SETUPSERVER",e))(t)).then((()=>a(gp("explorer/CLIENT/RELOADCUBES")))).then((e=>{let t;const r=window.location.search,o=window.history.state;if(r){const e=Qi(r);if(e.query){const t=function(e){const t=(e+"===".slice((e.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/");return window.atob(t)}(e.query),r=new URL(t);return a(Ad(r)).then((()=>a(Ld()))).then((()=>a(jd())))}const o=function(e){const t=Object.create(null),r=Object.create(null);return{booleans:function(e){const t=Object.create(null);return Object.keys(Od).forEach((r=>{(e&Od[r])>0&&(t[r.toLowerCase()]=!0)})),t}(e.booleans||0),cube:e.cube,cuts:Um(e.cuts).reduce((function(e,t){const[r,...n]=t.split(","),a=Cp({...Xm(r),active:!0,members:n}),o=Object.values(e).find((e=>e.dimension===a.dimension&&e.hierarchy===a.hierarchy&&e.level===a.level));if(o){const e=new Set([...o.members,...a.members]);a.members=[...e].sort()}return e[a.key]=a,e}),t),drilldowns:Um(e.drilldowns).reduce((function(e,t){const[r,...n]=t.split(","),a=Xm(r),o=n.map((e=>({active:!0,level:a.level,name:e}))),i=Pp({...a,active:!0,properties:o,key:r});return e[i.key]=i,e}),r),filters:Jm(Um(e.filters).map((function(e){const[t,r,n]=e.split(",");return kp({active:!0,comparison:r,inputtedValue:n,interpretedValue:Number.parseFloat(n),measure:t})})),(e=>e.key)),locale:e.locale,measures:Um(e.measures),pagiLimit:void 0,pagiOffset:void 0,sortDir:"desc",sortKey:void 0}}(e);t=op(o)&&Op({params:{...o,pagiLimit:n}})}else op(o)&&(t=Op({params:{...o,pagiLimit:n}}));if(!t||!e.hasOwnProperty(t.params.cube)){const t=Object.keys(e)[0];return a(Ld(t))}return a(vd({[t.key]:t})),a(Ld()).then((()=>a(jd())))})).then((()=>{a(xp("SUCCESS")),i(!0)}),(e=>{console.dir("There was an error during setup:",e),a(xp("FAILURE",e.message)),i(!0)}))}),[t]),o}const Ud=Cu([Yp,Xp],((e,t)=>e[t])),$d=Cu(Ud,(e=>e?e.measures:[]));Cu(Ud,(e=>Object.fromEntries(e.measures.map((e=>[e.name,e])))));const Dd=Cu(Ud,(e=>e?e.dimensions.map((e=>({item:{...e,hierarchies:e.hierarchies.map((e=>(e.levels.sort(((e,t)=>wp(e)-wp(t))),e))).sort(((e,t)=>wp(e)-wp(t)))},count:e.hierarchies.reduce(((e,t)=>e+t.levels.length),0),alpha:e.hierarchies.reduce(((e,t)=>e.concat(t.name,"-")),"")}))).sort(((e,t)=>wp(e.item)-wp(t.item)||t.count-e.count||e.alpha.localeCompare(t.alpha))).map((e=>e.item)):[])),Fd=Cu(Ud,(e=>Object.fromEntries(e.dimensions.flatMap((e=>e.hierarchies.flatMap((t=>t.levels.map((r=>function(e,t){return[e,t]}([e.name,t.name,r.name].join("."),[e,t,r]))))))))));function Bd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";if(!e)return"";"string"==typeof e&&(e=ep(e));const r=[];let n=e.length;for(;n--;){const t=e[n];-1===r.indexOf(t)&&r.unshift(t)}return r.join(t)}Cu(Dd,(e=>e.find((e=>"time"===e.dimensionType||"Year"===e.name||"Date"===e.name))));const qd=t=>{const n=Bi(Dd)||[],a=Bi(Zp),o=e.exports.useMemo((()=>n.map((e=>r.createElement(Qd,{dimension:e,locale:a.code,key:e.uri,onItemSelect:t.onItemSelect,selectedItems:t.selectedItems})))),[n,t.selectedItems,t.onItemSelect]);return r.createElement(L,{className:"menu-dimension"},o)},Qd=t=>{const{dimension:n,locale:a}=t,{translate:o}=xm(),i=e.exports.useMemo((()=>o("params.dimmenu_dimension",{dimension:Fm(n,a)})),[a,n]),s=1!==n.hierarchies.length,l=n.hierarchies.map((e=>r.createElement(zd,{dimension:n,hierarchy:e,isSubMenu:s,key:e.uri,locale:a,onItemSelect:t.onItemSelect,selectedItems:t.selectedItems})));return s?r.createElement(h,{key:n.uri,icon:"layers",text:i},l):l[0]},zd=t=>{const{dimension:n,hierarchy:a,locale:o,onItemSelect:i,selectedItems:s}=t,{translate:l}=xm(),c=e.exports.useMemo((()=>{const e=[Fm(n,o),Fm(a,o)];return t.isSubMenu?e[1]:l("params.dimmenu_hierarchy",{abbr:Bd(e,l("params.dimmenu_abbrjoint")),dimension:e[0],hierarchy:e[1]})}),[o,n,a,t.isSubMenu]),u=1!==a.levels.length,m=a.levels.map((e=>r.createElement(Vd,{dimension:n,hierarchy:a,isSubMenu:u,key:e.uri,level:e,locale:o,onItemSelect:i,selectedItems:s})));return u?r.createElement(h,{key:a.uri,icon:"layers",text:c},m):m[0]},Vd=t=>{var n;const{dimension:a,hierarchy:o,level:i,locale:s}=t,{translate:l}=xm(),c=e.exports.useMemo((()=>{const e=[Fm(a,s),Fm(o,s),Fm(i,s)];return t.isSubMenu?e[2]:l("params.dimmenu_level",{abbr:Bd(e,l("params.dimmenu_abbrjoint")),dimension:e[0],hierarchy:e[1],level:e[2]})}),[s,a,o,i,t.isSubMenu]);return r.createElement(h,{disabled:xo(n=t.selectedItems).call(n,tp(i)),icon:"layer",key:i.uri,onClick:()=>t.onItemSelect(i,o,a),text:c})},Hd=e=>{const{selectedItems:t,onItemSelect:n,usePortal:a,...o}=e;return r.createElement(w,{autoFocus:!1,boundary:"viewport",content:r.createElement(qd,{selectedItems:t.map(tp),onItemSelect:n}),fill:e.fill,target:r.createElement(O,o),usePortal:a})},Kd=t=>e.exports.createElement(W,{autoFocus:!1,boundary:"viewport",className:t.tooltipClassName,content:t.tooltipText,intent:t.tooltipIntent,position:t.tooltipPosition},t.children),Yd=t=>{const{tooltipIntent:r,tooltipPosition:n,tooltipText:a,...o}=t;return e.exports.createElement(Kd,{tooltipClassName:"icon-tooltip",tooltipIntent:r,tooltipPosition:n,tooltipText:a},e.exports.createElement(k,o))},Wd=t=>{const{tooltipIntent:r,tooltipPosition:n,tooltipText:a,...o}=t;return e.exports.createElement(Kd,{tooltipClassName:"button-tooltip "+(t.fill?"button-tooltip-fill":""),tooltipIntent:r,tooltipPosition:n,tooltipText:a},e.exports.createElement(O,o))},Gd=t=>{const{tooltipIntent:r,tooltipPosition:n,tooltipText:a,...o}=t;return e.exports.createElement(Kd,{tooltipClassName:"button-tooltip "+(t.fill?"button-tooltip-fill":""),tooltipIntent:r,tooltipPosition:n,tooltipText:a},e.exports.createElement(R,o))},Jd=e=>{e.stopPropagation(),e.preventDefault()},Xd=e=>{const{tooltip:t,warning:n}=e;return r.createElement("details",{className:u("query-area relative",e.className),open:e.open},r.createElement("summary",{className:u("details-title flex flex-row flex-nowrap items-center p-0",U)},r.createElement(k,{className:"icon-chevron",icon:"chevron-right"}),r.createElement("span",{className:"title block pr-2"},e.title),t&&r.createElement(Yd,{tooltipText:t,icon:"info-sign"}),r.createElement($.Expander,null),r.createElement("span",{className:u(z,V),onClick:Jd},e.toolbar,n&&r.createElement(H,null),n&&r.createElement(O,{disabled:!0,intent:g.WARNING,icon:"warning-sign"}))),r.createElement(mm,{isShadow:!1},r.createElement("div",{className:"p-3",style:{maxHeight:e.maxHeight}},e.children)))},Zd=e=>r.createElement("button",{type:"button",title:e.title,className:M,onClick:e.onClick},r.createElement(k,{icon:e.icon,iconSize:k.SIZE_STANDARD})),ef=t=>{const{activeItems:n,getLabel:a,items:o,onChange:i}=t,s=t.getSecondLabel||(()=>{}),{translate:l}=xm(),[c,m]=e.exports.useState(""),p=e.exports.useMemo((()=>Jm(n,(e=>e))),[n]),d=e.exports.useMemo((()=>{const e=[],r=[],n=Zm(c,"i"),a=t.itemPredicate||((e,t,r)=>e.test(t.key));let i=0;const s=Object.keys(o);for(;i<s.length;){const t=s[i],l=o[t];a(n,l,i++)&&(p.hasOwnProperty(t)?e.push(l):r.push(l))}return{selected:e.slice(0,1e3),selectedCount:e.length,totalCount:s.length,unselected:r.slice(0,1e3),unselectedCount:r.length}}),[o,p,c]),f=e.exports.useCallback((e=>{const t=n.indexOf(e.key),r=n.slice();t>-1?r.splice(t,1):(r.push(e.key),r.sort()),i(r)}),[n,i]),v=e.exports.useCallback((()=>{i([...Object.keys(p),...((null==d?void 0:d.unselected)||[]).map((e=>e.key))])}),[d,p]),g=e.exports.useCallback((()=>{if(null==d||!d.selectedCount)return void i([]);const e=new Set(((null==d?void 0:d.selected)||[]).map((e=>String(e.key)))),t=Object.keys(p).filter((t=>!e.has(t)));i(t)}),[d,p]),y=n.length-d.selectedCount,b=d.totalCount-n.length-d.unselectedCount,E=c.length>0?r.createElement(O,{icon:"cross",minimal:!0,onClick:()=>m("")}):void 0,w=e=>r.createElement(h,{icon:p.hasOwnProperty(e.key)?"tick-circle":void 0,key:e.key,labelElement:s(e),onClick:f.bind(null,e),shouldDismissPopover:!1,text:a(e)});return r.createElement("div",{className:"input-transfer"},r.createElement(j,{className:"item-filter",leftIcon:"search",onChange:e=>m(e.target.value),placeholder:l("transfer_input.search_placeholder"),rightElement:E,type:"search",value:c}),r.createElement(L,{className:u("item-list",U)},b>0&&r.createElement(A,{title:l("transfer_input.count_hidden",{n:b})}),r.createElement(hm,{items:d.unselected,itemMinSize:30},w)),r.createElement(L,{className:u("item-list",U)},y>0&&r.createElement(A,{title:l("transfer_input.count_hidden",{n:y})}),r.createElement(hm,{items:d.selected,itemMinSize:30},w)),r.createElement(O,{rightIcon:"double-chevron-right",text:l(c?"transfer_input.select_filtered":"transfer_input.select_all"),onClick:v}),r.createElement(O,{icon:"double-chevron-left",text:l(c?"transfer_input.unselect_filtered":"transfer_input.unselect_all"),onClick:g}))};ef.defaultProps={getLabel:e=>`${e}`};const tf=ef,rf=e.exports.memo((t=>{const{item:n,onMembersUpdate:a,onRemove:o,onToggle:i}=t,{translate:s}=xm(),l=Ui(),c=Bi(Zp),p=Bi(Fd)[`${n.dimension}.${n.hierarchy}.${n.level}`],[d,f]=e.exports.useState(""),[h,v]=e.exports.useState(Object.create(null)),[g,y]=e.exports.useState(!0),b=e.exports.useCallback((()=>{i&&i(n)}),[n.active]),E=e.exports.useCallback((e=>{e.stopPropagation(),o&&o(n)}),[n.key]),S=e.exports.useCallback((()=>{const e=n.members;l(Id(n)).then((t=>{const r={};let a=t.length;for(;a--;){const n=t[a],o=xo(e).call(e,`${n.key}`);r[n.key]=Rp({name:n.caption,key:n.key,active:o})}!n.active&&l(Lp({...n,active:!0})),f(""),v(r),y(!1)})).catch((e=>{f(`${e.message}`),v({}),y(!1)}))}),[]);e.exports.useEffect(S,[n.key,c.code]);const O=e.exports.useMemo((()=>{const e=p.map((e=>Fm(e,c.code)));return s("params.tag_drilldowns",{abbr:Bd(e,s("params.tag_drilldowns_abbrjoint")),dimension:e[0],hierarchy:e[1],level:e[2],memberCount:n.members.length})}),[n.members.join("-"),n,c.code]);if(g)return r.createElement(nf,{onRemove:E},O);if(d)return r.createElement(af,{error:d,item:t.item,onReload:S,onRemove:E},O);const C=n.members.length,P=1===C&&h[n.members[0]],k="false"!=p[2].annotations.memberid_in_ui;return r.createElement(w,{boundary:"viewport",content:r.createElement(m,{className:"submenu-form-group",label:s("params.title_members")},r.createElement(tf,{activeItems:n.members,getLabel:e=>e.name,getSecondLabel:k?e=>e.key!=e.name?e.key:void 0:void 0,itemPredicate:(e,t)=>e.test(t.name)||e.test(t.key),items:h,onChange:e=>a&&a(n,e)})),fill:!0,interactionKind:_.CLICK,popoverClassName:"param-popover"},r.createElement(N,{className:u("tag-item tag-cut",{hidden:!n.active}),icon:r.createElement("span",{onClickCapture:e=>e.stopPropagation()},r.createElement(x,{checked:n.active,onChange:b})),large:!0,fill:!0,interactive:!0,onRemove:E},s("params.tag_cuts",{abbr:O,first_member:P?P.name:"",n:C})))})),nf=e=>r.createElement(N,{className:"tag-item tag-cut loading",fill:!0,icon:r.createElement(E,{size:S.SMALL}),large:!0,minimal:!0,onRemove:e.onRemove},e.children),af=e=>{const{translate:t}=xm();return r.createElement(w,{boundary:"viewport",content:r.createElement(v,{icon:"warning-sign",intent:g.WARNING,title:t("params.error_fetchmembers_title")},r.createElement("p",null,t("params.error_fetchmembers_detail")),r.createElement("p",{style:{whiteSpace:"pre-line"}},e.error),r.createElement("p",null,r.createElement(O,{text:t("action_reload"),onClick:e.onReload}))),fill:!0,hoverCloseDelay:500,interactionKind:_.HOVER,popoverClassName:"param-popover"},r.createElement(N,{className:u("tag-item tag-cut error",{hidden:!e.item.active}),fill:!0,icon:"warning-sign",intent:g.WARNING,interactive:!1,large:!0,rightIcon:r.createElement(y,{minimal:!0},r.createElement(Zd,{icon:"refresh",title:t("action_reload"),onClick:e.onReload})),onRemove:e.onRemove},e.children))},of=t=>{const n=Ui(),a=Bi(td),{translate:o}=xm(),i=e.exports.useCallback((()=>{n(Ip())}),[]),s=e.exports.useCallback((e=>{const t=Cp(e);t.active=!1,n(Lp(t))}),[]),l=e.exports.useCallback((e=>{n({type:"explorer/QUERY/CUTS/REMOVE",payload:e.key})}),[]),c=e.exports.useCallback((e=>{n(Lp({...e,active:!e.active}))}),[]),u=e.exports.useCallback(((e,t)=>{n(Lp({...e,members:t}))}),[]),m=r.createElement(e.exports.Fragment,null,a.length>0&&r.createElement(O,{icon:"trash",intent:g.DANGER,onClick:i}),r.createElement(Hd,{icon:"new-object",onItemSelect:s,selectedItems:a}));return r.createElement(Xd,{className:t.className,open:!0,title:o("params.title_area_cuts",{n:`${a.reduce(lp,0)}`}),toolbar:m,tooltip:o("params.tooltip_area_cuts")},a.map((e=>r.createElement(rf,{item:e,key:e.key,onMembersUpdate:u,onRemove:l,onToggle:c}))))},sf=()=>{const t=Ui(),{translate:n}=xm(),a=Bi(qp),o=Bi(Hp),i=e.exports.useMemo((()=>o.map((e=>r.createElement(up,{key:e,provider:()=>(t(xp("REQUEST")),t((e=>gp("explorer/CLIENT/DOWNLOADQUERY",e))(e)).then((e=>(t(xp("SUCCESS")),e)),(e=>{throw t(xp("FAILURE",e.message)),e}))),text:n(`formats.${e}`)})))),[o]);return a.isDirty||0===i.length?null:r.createElement("div",{className:"download-area p-3"},r.createElement("h4",{className:"mt-0 mb-3"},n("params.title_downloaddata")),r.createElement(y,{fill:!0},i))},lf=ef,cf=e.exports.memo(fp,((e,t)=>e.selectedItem===t.selectedItem)),uf=t=>{const{item:n,onRemove:a,onToggle:o,onCaptionUpdate:i,onPropertiesUpdate:s}=t,{translate:l}=xm(),c=Bi(Zp),p=Bi(Fd),d=$m(n.properties,(e=>sp(e)?e.key:null)),f=e.exports.useMemo((()=>{const e=p[`${n.dimension}.${n.hierarchy}.${n.level}`].map((e=>Fm(e,c.code)));return l("params.tag_drilldowns",{abbr:Bd(e,l("params.tag_drilldowns_abbrjoint")),dimension:e[0],hierarchy:e[1],level:e[2],propCount:d.length})}),[d.join("-"),n,c.code]),h=r.createElement(N,{className:u("tag-item tag-drilldown",{hidden:!n.active}),fill:!0,icon:r.createElement("span",{onClickCapture:e=>e.stopPropagation()},r.createElement(x,{checked:n.active,onChange:()=>o(n)})),interactive:!0,large:!0,onRemove:e=>{e.stopPropagation(),a(n)}},f),v=e.exports.useMemo((()=>Jm(n.properties,(e=>e.key))),[n.properties]);if(0===n.properties.length)return h;const g=[{name:l("placeholders.unselected")}].concat(n.properties),y=r.createElement("div",{className:"drilldown-submenu"},r.createElement(m,{className:"submenu-form-group",label:l("params.title_caption")},r.createElement(cf,{fill:!0,items:g,onItemSelect:e=>i(n,e.level?e.name:""),getLabel:e=>e.name,selectedItem:n.captionProperty||void 0})),r.createElement(m,{className:"submenu-form-group",label:l("params.title_properties")},r.createElement(lf,{activeItems:d,getLabel:e=>e.name,items:v,itemPredicate:(e,t)=>e.test(t.name),onChange:e=>{const t=n.properties.map((t=>({...t,active:xo(e).call(e,t.key)})));s(n,t)}})));return r.createElement(w,{boundary:"viewport",content:y,fill:!0,interactionKind:_.CLICK,popoverClassName:"param-popover"},h)},mf=t=>{const n=Ui(),{translate:a}=xm(),o=Bi(nd),i=Bi(Dd),s=e.exports.useCallback((()=>{n(Ap())}),[]),l=e.exports.useCallback((e=>{const t=Pp(e);n(Mp(t)),n(Id(e)).then((r=>{const a=i.find((t=>t.name===e.dimension));a&&n(Mp({...t,dimType:a.dimensionType,memberCount:r.length}))}))}),[i]),c=e=>{n({type:"explorer/QUERY/DRILLDOWNS/REMOVE",payload:e.key})},u=e=>{n(Mp({...e,active:!e.active}))},m=(e,t)=>{n(Mp({...e,captionProperty:t}))},p=(e,t)=>{n(Mp({...e,properties:t}))},d=r.createElement(e.exports.Fragment,null,o.length>0&&r.createElement(O,{icon:"trash",intent:g.DANGER,onClick:s}),r.createElement(Hd,{icon:"new-object",onItemSelect:l,selectedItems:o}));return r.createElement(Xd,{className:t.className,open:!0,title:a("params.title_area_drilldowns",{n:`${o.reduce(lp,0)}`}),toolbar:d,tooltip:a("params.tooltip_area_drilldowns")},o.map((e=>r.createElement(uf,{key:e.key,item:e,onRemove:c,onToggle:u,onCaptionUpdate:m,onPropertiesUpdate:p}))))},pf=t=>{const n=Ui(),{code:a}=Bi(Zp),o=Bi(od),i=Bi($d),[s,l]=e.exports.useState(""),{translate:c}=xm(),u=e.exports.useMemo((()=>{if(s){const e=Zm(s,"i");return i.filter((t=>e.test(Fm(t,a))))}return i}),[i,s]),m=e.exports.useCallback((()=>l("")),[]),p=r.createElement(w,{autoFocus:!0,interactionKind:_.HOVER,popoverClassName:"param-popover",position:B.BOTTOM},r.createElement(O,{icon:s?"filter-remove":"filter",intent:s?g.DANGER:g.NONE,onClick:m}),r.createElement(j,{className:"item-filter",leftIcon:"search",onChange:e=>l(e.target.value),placeholder:c("params.search_placeholder"),rightElement:s.length>0?r.createElement(O,{icon:"cross",minimal:!0,onClick:m}):void 0,type:"search",value:s}));return r.createElement(Xd,{className:t.className,open:!0,title:c("params.title_area_measures",{n:o.length}),toolbar:p,tooltip:c("params.tooltip_area_measures")},u.map((e=>r.createElement(q,{checked:xo(o).call(o,e.name),className:"item-measure",key:e.name,label:Fm(e,a),onChange:()=>{n({type:"explorer/QUERY/MEASURES/UPDATE",payload:e.name})}}))))},df=()=>{const e=Ui(),{translate:t}=xm(),{limit:n,offset:a}=Bi(ld),o=Bi(sd);return r.createElement(y,{fill:!0},r.createElement(m,{label:t("params.label_pagination_limit")},r.createElement(K,{disabled:!o,fill:!0,min:0,onValueChange:t=>e(Up(t,a)),value:n})),r.createElement(H,null),r.createElement(m,{label:t("params.label_pagination_offset")},r.createElement(K,{disabled:!o,fill:!0,min:0,onValueChange:t=>e(Up(n,t)),value:a})))},ff={itemListPredicate(e,t){const r=Zm(e,"i");return t.filter((e=>r.test(e.caption||e.name)))},itemRenderer(e,t){let{handleClick:n,modifiers:a}=t;return r.createElement(h,{active:a.active,icon:"th-list",key:e.uri,onClick:n,text:e.caption})}},hf=e=>{const{fill:t,usePortal:n}=e,{translate:a}=xm(),o=Bi($d);return r.createElement(C,{className:u("select-measure",e.className),filterable:o.length>6,itemListPredicate:e.itemListPredicate||ff.itemListPredicate,itemRenderer:e.itemRenderer||ff.itemRenderer,items:o,onItemSelect:e.onItemSelect,popoverProps:{fill:t,minimal:!0,usePortal:n,portalClassName:"select-measure-overlay"}},r.createElement(O,{alignText:P.LEFT,className:e.className,fill:t,icon:e.icon,rightIcon:"double-caret-vertical",text:e.selectedItem||a("selectmeasure_placeholder")}))};hf.defaultProps=ff;const vf=e.exports.memo(hf,rp),gf=e.exports.memo(fp,np("items","selectedItem")),yf=()=>{const t=Ui(),{locale:n,translate:a}=xm(),{sortDir:o,sortKey:i}=Bi(cd),s=e.exports.useMemo((()=>{const e={asc:a("direction.ASC"),desc:a("direction.DESC")};return{directions:e,options:[{value:"asc",label:e.asc},{value:"desc",label:e.desc}]}}),[n]);return r.createElement(m,{label:a("params.label_sorting_key")},r.createElement(Y,{fill:!0},r.createElement(vf,{fill:!0,icon:!!i&&"timeline-bar-chart",selectedItem:i,onItemSelect:e=>t($p(e.name,o))}),r.createElement(gf,{getLabel:e=>e.label,items:s.options,onItemSelect:e=>t($p(i,e.value)),selectedItem:s.directions[o]})))},bf=e=>{const t=Ui(),{translate:n}=xm(),a=Bi(id),o=Bi(Kp);return r.createElement(Xd,{className:e.className,open:!1,title:n("params.title_area_options"),tooltip:n("params.tooltip_area_options")},o.map((e=>r.createElement(q,{key:e,className:"item-option",label:n(`params.label_boolean_${e}`),checked:a[e]||!1,onChange:()=>{t(((e,t)=>({type:"explorer/QUERY/BOOLEANS/TOGGLE",payload:{key:e,value:t}}))(e))}}))),r.createElement(yf,null),r.createElement(df,null))},Ef=t=>{const n=Ui(),{translate:a}=xm(),o=Bi(sd),{previewLimit:i}=Im(),s=!!t.noPopover,l=e.exports.useCallback((()=>{n({type:"explorer/QUERY/FULL_RESULTS/UPDATE",payload:{pagiLimit:o?i:0,fullResults:!o}})}),[i,o]);return r.createElement(w,{boundary:"viewport",content:r.createElement("div",{className:"p-3"},o?a("previewMode.description_full"):a("previewMode.description_preview",{limit:i})),fill:!1,interactionKind:_.HOVER_TARGET_ONLY,popoverClassName:"show-full-results-popover",disabled:s},r.createElement(x,{inline:!0,checked:o,labelElement:r.createElement(r.Fragment,null,a("params.label_boolean_full_results"),!s&&r.createElement(k,{className:"ml-1",icon:"info-sign"})),onChange:l}))},wf=()=>{const e=Ui(),{translate:t}=xm(),n=Bi(Vp),a=Bi(zp),{isValid:o,error:i}=Bi(ud),s=i&&t(i)!==i?t(i):"";return r.createElement(r.Fragment,null,r.createElement(y,{className:"query-actions p-3",fill:!0},r.createElement(Gd,{fill:!0,disabled:!o,icon:"database",intent:g.PRIMARY,text:t("params.action_execute"),tooltipText:s,tooltipIntent:g.DANGER,tooltipPosition:B.RIGHT,onClick:()=>{e(Td())}}),"tesseract-olap"===a&&r.createElement(Wd,{className:Q,icon:"exchange",tooltipText:t("params.current_endpoint",{label:n}),onClick:()=>{return e({type:"explorer/SERVER/UPDATE_ENDPOINT",payload:t});var t}})),r.createElement("div",{className:"p-3 pt-0 pb-0"},r.createElement(Ef,null)),r.createElement(y,{className:"query-actions p-3 pt-0",fill:!0},r.createElement(Gd,{fill:!0,icon:"remove",intent:g.NONE,text:t("params.action_clear"),tooltipText:t("params.action_clear_description"),tooltipIntent:g.NONE,tooltipPosition:B.RIGHT,onClick:()=>{e(Ip()),e(Ap()),e({type:"explorer/QUERY/MEASURES/CLEAR"})}})))},_f=t=>{const{defaultOpen:n=!0}=t,[a,o]=e.exports.useState(n),i=()=>o(!a);return a?r.createElement("div",{className:u("explorer-column bp3-elevation-0 flex flex-col flex-nowrap",t.className)},r.createElement("div",{className:"titlebar"},r.createElement("h2",{className:"token",onClick:i},t.title)),r.createElement(mm,{isShadow:!1},r.createElement("div",{className:`wrapper ${t.className}-content`},t.children))):r.createElement("div",{className:u("explorer-column closed bp3-elevation-0",t.className)},r.createElement("div",{className:"titlebar"},r.createElement("h2",{className:"token",onClick:i},t.title)))},Nf=e.exports.memo((e=>{const{cube:t}=e,{code:n}=Bi(Zp),a=Bm(t,"description",n);return a?r.createElement("p",{className:e.className},a):null})),xf=e.exports.memo((e=>{const{cube:t}=e,{code:n}=Bi(Zp),{translate:a}=xm(),o=Bm(t,"source_name",n),i=Bm(t,"source_link",n),s=Bm(t,"source_description",n);return o||s?r.createElement("p",{className:e.className},o&&r.createElement("span",{className:"block"},`${a("params.label_source")}: `,i?r.createElement("a",{href:i},o):r.createElement("span",null,o)),s&&r.createElement("span",{className:"block"},s)):null})),Sf=e=>{const{items:t,selectedItem:n,fill:a=!0,getLabel:o}=e;return e.hidden||0===t.length||!n?null:t.length<4?r.createElement(y,{fill:!0,className:u(e.className,"as-buttons")},t.map((a=>{const i=o?o(a):a;return r.createElement(O,{className:u(e.className,"select-button",{selected:n===a,unique:1===t.length}),intent:n===a?"primary":void 0,key:i,onClick:t=>e.onItemSelect(a,t),text:i,title:i})}))):o?r.createElement(fp,{className:e.className,fill:a,getLabel:o,items:t,onItemSelect:e.onItemSelect,selectedItem:e.text||o(n)}):r.createElement(dp,{className:e.className,fill:a,items:t,onItemSelect:e.onItemSelect,selectedItem:e.text||n})},Of=e.exports.memo(Sf,np("items","selectedItem")),Cf=e.exports.memo(Sf,np("items","selectedItem")),Pf=()=>{const t=Ui(),{translate:n}=xm(),{code:a}=Bi(Zp),o=Bi(Wp),i=Bi(Ud),{level:s,setLevel:l,keys:c,values:u}=kf(o,i,(e=>Bm(e,"topic",a)),[a]),{level:m,setLevel:p,keys:d,values:f}=kf(u,i,(e=>Bm(e,"subtopic",a)),[a]),{level:h,setLevel:v,keys:g,values:b}=kf(f,i,(e=>Bm(e,"table",a)),[a]),E=b.length>0?b:f.length>0?f:u.length>0?u:o,w=e.exports.useCallback((e=>{t(gp("explorer/CLIENT/SELECTCUBE",e.name))}),[]);e.exports.useEffect((()=>{i&&E.length>0&&!xo(E).call(E,i)&&w(E[0])}),[E,i]);const _=i?r.createElement(Cf,{className:"select-cube",getLabel:e=>Fm(e,a),hidden:E.length<2,items:E,onItemSelect:w,selectedItem:i,text:n("params.label_cube",{name:i.name,caption:Fm(i,a)})}):null;return r.createElement(e.exports.Fragment,null,r.createElement(y,{className:"cube-locale p-3",fill:!0,vertical:!0},r.createElement(Of,{className:"select-topic",items:c,onItemSelect:l,selectedItem:s,text:n("params.label_topic",{label:s})}),r.createElement(Of,{className:"select-subtopic",items:d,onItemSelect:p,selectedItem:m,text:n("params.label_subtopic",{label:m})}),r.createElement(Of,{className:"select-table",items:g,onItemSelect:v,selectedItem:h,text:n("params.label_table",{label:h})}),_),i&&r.createElement(Nf,{className:"cube-description p-3 py-0",cube:i}),i&&r.createElement(xf,{className:"cube-source p-3 py-0",cube:i}))};function kf(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const[o,i]=e.exports.useState((()=>r&&n(r)||""));e.exports.useEffect((()=>{r&&i(n(r)||"")}),[r,...a]);const[s,l]=e.exports.useMemo((()=>{const e=Wm(t,n);return[[...e.keys()],e.get(o)||[]]}),[t,o,...a]);return{level:o,setLevel:i,keys:s,values:l}}const Rf=fp,jf=()=>{const e=Ui(),{translate:t}=xm(),n=Bi(Zp),a=Bi(Gp);return a.length<2?null:r.createElement(y,{className:"p-3 pb-0",fill:!0},r.createElement(Rf,{className:"select-locale",fill:!0,getLabel:e=>e.label,icon:"translate",items:a,onItemSelect:t=>{n.code!==t.value&&e({type:"explorer/QUERY/LOCALE/UPDATE",payload:t.value})},selectedItem:t("params.label_locale",n)}))},Tf=e=>{const{translate:t}=xm();return r.createElement(_f,{className:e.className,title:t("params.column_title")},r.createElement(jf,null),r.createElement(Pf,null),r.createElement(pf,null),r.createElement(mf,null),r.createElement(of,null),r.createElement(bf,null),r.createElement(wf,null),r.createElement(sf,null))},If=e=>r.createElement("span",{className:"flex flex-row items-center"},e.icon&&r.createElement(k,{iconSize:12,icon:e.icon}),r.createElement("span",{className:"ml-1 flex-grow"},e.text)),Lf=e.exports.memo((e=>{const{onSelect:t,onDelete:n}=e,{params:a}=e.item,{translate:o}=xm(),i=Object.values(a.drilldowns).filter(sp).map((e=>e.level)),s=Object.values(a.measures).filter(sp).map((e=>e.measure));return r.createElement(y,{className:u("my-2",e.className),fill:!0},r.createElement(O,{alignText:a.cube?P.LEFT:void 0,className:"px-2",fill:!0,intent:e.active?g.PRIMARY:g.NONE,onClick:()=>t&&t(e.item.key),tabIndex:0},r.createElement("div",{className:"flex flex-col text-xs"},a.cube&&r.createElement(If,{icon:"cube",text:a.cube}),s.length>0&&r.createElement(If,{icon:"th-list",text:s.join(", ")}),i.length>0&&r.createElement(If,{icon:"layers",text:i.join(", ")}),!a.cube&&r.createElement("span",null,o("queries.unset_parameters")))),!e.hideDelete&&r.createElement(O,{icon:"trash",onClick:()=>n&&n(e.item.key)}))}),rp),Af=t=>{const n=Ui(),a=Bi(qp),o=Bi(Bp),{translate:i}=xm(),s=e.exports.useCallback((()=>{const e=Op({params:null==a?void 0:a.params});n(yd(e)),n(gd(e.key))}),[a]),l=e.exports.useCallback((e=>{n({type:"explorer/QUERIES/REMOVE",payload:e})}),[]),c=e.exports.useCallback((e=>{n(gd(e))}),[]),u=e.exports.useCallback((()=>{const e=window.prompt("Enter the URL of the query you want to parse:");if(e){n(xp("REQUEST"));const t=new URL(e);n(Ad(t)).then((()=>n(Ld()))).then((()=>n(jd()))).then((()=>n(xp("SUCCESS"))),(e=>n(xp("FAILURE",e.message))))}}),[]);return r.createElement(_f,{className:t.className,title:i("queries.column_title"),defaultOpen:o.length>1},r.createElement(y,{alignText:"left",fill:!0,vertical:!0},r.createElement(O,{className:"action-create",icon:"insert",onClick:s,text:i("queries.action_create")}),r.createElement(O,{className:"action-parseurl",icon:"bring-data",onClick:u,text:i("queries.action_parse")})),o.map(((e,t,n)=>r.createElement(Lf,{active:e===a,className:"query-item",key:e.key,item:e,hideDelete:1===n.length,onSelect:c,onDelete:l}))))},Mf=()=>{const{translate:e}=xm(),t=Bi(sd),{previewLimit:n}=Im();return t?r.createElement(r.Fragment,null):r.createElement(v,{className:"load-all-results-msg-callout"},r.createElement("p",null,r.createElement("strong",null,e("previewMode.title_preview"),":")," ",e("previewMode.description_preview",{limit:n})," "),r.createElement(Ef,{noPopover:!0}))},Uf=t=>{const{DefaultSplash:n,panels:a,transientIcon:o}=t,[i,s]=e.exports.useState((()=>Object.keys(a)[0])),l=Bi(Qp),c=Bi(Ud),m=Bi(qp),{online:p,url:d}=l,{isDirty:f,params:h,result:v}=m,{data:g,error:y}=v,{translate:E}=xm();if(y)return r.createElement(b,{className:u("initial-view error",t.className),description:r.createElement("div",{className:"error-description"},r.createElement("p",null,E("results.error_execquery_detail")),r.createElement("p",{className:"error-detail"},y)),icon:"error"});if(!1===p)return"object"==typeof window&&!1===window.navigator.onLine?r.createElement(b,{className:"explorer-error",icon:"globe-network",title:E("results.error_disconnected_title")}):r.createElement(b,{className:"explorer-error",icon:"error",title:E("results.error_serveroffline_title"),description:r.createElement("span",null,E("results.error_serveroffline_detail"),r.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},d),".")});if(f)return n&&r.createElement(n,null)||r.createElement(b,{className:u("initial-view dirty",t.className),icon:o});if(0===g.length)return r.createElement(b,{className:u("initial-view empty",t.className),icon:"square",title:E("results.error_emptyresult_title"),description:E("results.error_emptyresult_detail")});const w=a[i];return r.createElement("div",{className:u("explorer-column flex flex-col",t.className)},r.createElement($,{className:"titlebar",onChange:e=>s(`${e}`),selectedTabId:i},Object.keys(a).map((e=>r.createElement(D,{id:e,key:e,title:E(e)}))),r.createElement($.Expander,null),r.createElement("h2",{className:"token"},E("results.count_rows",{n:g.length}))),r.createElement("div",{className:`wrapper ${t.className}-content`},r.createElement(e.exports.Suspense,{fallback:"string"==typeof o?r.createElement(k,{name:o}):o},r.createElement(Mf,null),r.createElement(w,{className:"result-panel",cube:c,params:h,result:v}))))};function $f(e){return"explorer"in e?e.explorer.explorerLoading:e.explorerLoading}const Df=e=>{const{translate:t}=xm(),{loading:n,message:a}=Bi($f),o=a?"HEAVY_QUERY"===a.type?t("loading.message_heavyquery",a):t("loading.message_default",a):void 0;return r.createElement(F,Oa({canEscapeKeyClose:!1,canOutsideClickClose:!1},e,{isOpen:n}),r.createElement(b,{className:"loading-screen",icon:r.createElement(E,{size:S.LARGE}),title:t("loading.title"),description:o}))},Ff={locale:["en"],panels:{"Data table":qm,"Pivot table":t=>{const{cube:n,params:a,result:o}=t,i=a.locale,{translate:s}=xm(),l=e.exports.useMemo((()=>{const e=Object.fromEntries(n.measures.map((e=>[e.name,e])));return a.measures.map((t=>{const r=e[t];return{value:t,label:Fm(r,i),type:r.aggregatorType}}))}),[n,a.measures,i]),c=e.exports.useMemo((()=>{const e=Object.fromEntries(n.dimensions.map((e=>[e.name,e]))),t=Object.fromEntries(n.dimensions.map((e=>[e.name,Object.fromEntries(e.hierarchies.map((e=>[e.name,Object.fromEntries(e.levels.map((e=>[e.name,e])))])))])));return Object.values(a.drilldowns).filter(sp).flatMap((r=>{const n=t[r.dimension][r.hierarchy][r.level],a=Fm(n,i),s=e[r.dimension].dimensionType.toString(),l=Object.fromEntries(n.properties.map((e=>[e.name,e]))),c=[{value:r.level,label:a,type:s}];return`${r.level} ID`in o.data[0]&&c.push({value:`${r.level} ID`,label:`${a} ID`,type:s}),c.concat($m(r.properties,(e=>{const t=l[e.name];return e.active?{value:e.name,label:`${Fm(t,i)} (${a})`,type:"prop"}:null})))}))}),[n,a.drilldowns,i]),[p,d]=e.exports.useState((()=>c.find((e=>"time"===e.type))||c[0])),[f,h]=e.exports.useState((()=>c.find((e=>e!==p))||c[0])),[w,_]=e.exports.useState((()=>l[0])),N=[a.cube,p.label,f.label,w.value].join("_"),[x,S]=function(t,r,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const[i,s]=e.exports.useState(o),[l,c]=e.exports.useState(null);return e.exports.useEffect((()=>(s(o),c(null),Ym(t,{colProp:r,rowProp:n,valProp:a}).then(s,c),()=>{s(null),c(null)})),[t,r,n,a]),[i,l]}(o.data,p.value,f.value,w.value),{formatExample:O,formatter:C,formatterKey:P,formatterKeyOptions:k,setFormat:R}=function(t,r){const{translate:n}=xm(),a=Mm(t);return e.exports.useMemo((()=>{const e=a.getFormatterKey(r)||"undefined",t=a.getFormatter(e);return{formatExample:t(12345.6789),formatter:t,formatterKey:e,formatterKeyOptions:[{label:n("placeholders.none"),value:"undefined"}].concat(a.getAvailableKeys(r).map((e=>({label:a.getFormatter(e)(12345.6789),value:e})))),setFormat:a.setFormat}}),[r,a])}(t.cube.measures,w.value),j=e.exports.useMemo((()=>{const e=[];"prop"!==f.type&&"prop"!==p.type||e.push(r.createElement(v,{key:"propertypivot",intent:g.WARNING},s("pivot_view.warning_propertypivot")));return Object.values(a.drilldowns).filter(sp).length>2&&e.push("SUM"!==w.type?r.createElement(v,{key:"notsummeasure",intent:g.WARNING},s("pivot_view.warning_notsummeasure")):r.createElement(v,{key:"sumdimensions"},s("pivot_view.warning_sumdimensions"))),e}),[a.drilldowns,f,p,w]),T=e.exports.useMemo((()=>x?r.createElement(e.exports.Fragment,null,r.createElement("h3",null,s("pivot_view.title_download")),r.createElement(y,{fill:!0},r.createElement(up,{text:"CSV",provider:()=>({name:N,extension:"csv",content:vp(x,C,"csv")})}),r.createElement(up,{text:"TSV",provider:()=>({name:N,extension:"tsv",content:vp(x,C,"tsv")})}))):null),[x,C]);if(c.length<2)return r.createElement(b,{icon:"warning-sign",title:s("pivot_view.error_missingparams")});let I;return I=p&&f&&w?p===f?r.createElement(b,{icon:"warning-sign",title:s("pivot_view.error_onedimension")}):null!=S?r.createElement(b,{icon:"error",title:s("pivot_view.error_internal"),description:s("pivot_view.error_internal_detail",{error:S.message})}):x?r.createElement(hp,{key:`${N} ${P}`,data:x.data,headers:x.headers,formatter:C}):r.createElement(b,{icon:r.createElement(E,{size:100}),title:s("pivot_view.loading_title"),description:s("pivot_view.loading_details")}):r.createElement(b,{icon:"warning-sign",title:s("pivot_view.error_missingparams")}),r.createElement("div",{className:u("data-matrix flex flex-row flex-nowrap",t.className)},r.createElement("div",{className:"toolbar flex-grow-0 flex-shrink-0 w-24 p-3"},r.createElement("h3",{className:"mt-0"},s("pivot_view.title_params")),r.createElement(m,{label:"prop"===p.type?s("pivot_view.label_ddcolumnprop"):s("pivot_view.label_ddcolumn")},r.createElement(fp,{fill:!0,getLabel:e=>e.label,items:c,onItemSelect:d,selectedItem:p.label})),r.createElement(m,{label:"prop"===f.type?s("pivot_view.label_ddrowprop"):s("pivot_view.label_ddrow")},r.createElement(fp,{fill:!0,getLabel:e=>e.label,items:c,onItemSelect:h,selectedItem:f.label})),r.createElement(m,{label:s("pivot_view.label_valmeasure")},r.createElement(fp,{fill:!0,getLabel:e=>e.label,items:l,onItemSelect:_,selectedItem:w.label})),r.createElement(m,{label:s("pivot_view.label_formatter")},r.createElement(fp,{fill:!0,getLabel:e=>e.label,items:k,onItemSelect:e=>R(w.value,e.value),selectedItem:O})),j,T),I)},"Raw response":t=>{const{headers:n,sourceCall:a,urlAggregate:o,urlLogicLayer:i}=t.result,{translate:s}=xm(),l=r.createElement(e.exports.Fragment,null,s("debug_view.jssource_prefix"),r.createElement("a",{href:"https://www.npmjs.com/package/@datawheel/olap-client"},"olap-client"),s("debug_view.jssource_suffix")),c=e.exports.useMemo((()=>Object.entries(n).map((t=>r.createElement(e.exports.Fragment,{key:t[0]},r.createElement("dt",{style:{fontWeight:"bold"}},t[0]),r.createElement("dd",{style:{color:"#090"}},t[1]))))),[n]);return r.createElement("div",{className:u("data-raw",t.className)},i&&r.createElement(m,{className:"sourceurl",label:s("debug_view.url_logiclayer")},r.createElement(Pm,{url:i})),o&&r.createElement(m,{className:"sourceurl",label:s("debug_view.url_aggregate")},r.createElement(Pm,{url:o})),r.createElement(m,{className:"headers",label:s("debug_view.httpheaders")},r.createElement("dl",null,c)),a&&r.createElement(m,{className:"sourcecall",label:l},r.createElement("pre",{className:u(p,"jscall")},a)))}},transientIcon:r.createElement((e=>r.createElement("svg",{className:u("animated-cube",e.className),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},r.createElement("path",{className:"a",d:"M128 128v128l111 -64v-128l-111 64z"}),r.createElement("path",{className:"b",d:"M128 128l111 -64l-111 -64l-111 64l111 64z"}),r.createElement("path",{className:"c",d:"M128 128l-111 -64v128l111 64v-128z"}),r.createElement("path",{className:"a",d:"M128 128v-64l-55 32v64l55 -32z"}),r.createElement("path",{className:"b",d:"M128 128l-55 32l55 32l55 -32l-55 -32z"}),r.createElement("path",{className:"c",d:"M128 128l55 32v-64l-55 -32v64z"}))),null),uiLocale:"en",version:"1.0.0-alpha.29"},Bf=e=>{var t;const n=e.previewLimit||50,a=Md(e.src,e.locale||Ff.locale,n),o=Bi(Qp);return r.createElement(Tm,{formatters:e.formatters,previewLimit:n},r.createElement(Om,{defaultLocale:e.uiLocale,translations:e.translations},r.createElement("div",{className:u("explorer-wrapper",e.className)},r.createElement(Df,{className:"explorer-loading"}),a&&o.online&&e.multiquery?r.createElement(Af,{className:"explorer-queries"}):r.createElement("div",null),a&&o.online?r.createElement(Tf,{className:"explorer-params"}):r.createElement("div",null),r.createElement(Uf,{className:"explorer-results",panels:e.panels||Ff.panels,DefaultSplash:e.DefaultSplash,transientIcon:null!=(t=e.transientIcon)?t:Ff.transientIcon}))))};Bf.defaultProps=Ff,Bf.displayName="TesseractExplorer";const qf={explorerServer:Ed,explorerLoading:_p,explorerQueries:dd};function Qf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(r),!0).forEach((function(t){Qf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hf(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Kf="function"==typeof Symbol&&Symbol.observable||"@@observable",Yf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wf={INIT:"@@redux/INIT"+Yf(),REPLACE:"@@redux/REPLACE"+Yf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Yf()}};function Gf(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}const Xf=function e(t,r,n){var a;if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Hf(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Hf(1));return n(e)(t,r)}if("function"!=typeof t)throw new Error(Hf(2));var o=t,i=r,s=[],l=s,c=!1;function u(){l===s&&(l=s.slice())}function m(){if(c)throw new Error(Hf(3));return i}function p(e){if("function"!=typeof e)throw new Error(Hf(4));if(c)throw new Error(Hf(5));var t=!0;return u(),l.push(e),function(){if(t){if(c)throw new Error(Hf(6));t=!1,u();var r=l.indexOf(e);l.splice(r,1),s=null}}}function d(e){if(!Gf(e))throw new Error(Hf(7));if(void 0===e.type)throw new Error(Hf(8));if(c)throw new Error(Hf(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=s=l,r=0;r<t.length;r++){(0,t[r])()}return e}function f(e){if("function"!=typeof e)throw new Error(Hf(10));o=e,d({type:Wf.REPLACE})}function h(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Hf(11));function r(){e.next&&e.next(m())}return r(),{unsubscribe:t(r)}}})[Kf]=function(){return this},e}return d({type:Wf.INIT}),(a={dispatch:d,subscribe:p,getState:m,replaceReducer:f})[Kf]=h,a}((function(e,t){return{explorerServer:wd((e=e||qf).explorerServer,t),explorerLoading:Np(e.explorerLoading,t),explorerQueries:fd(e.explorerQueries,t)}}),void 0,("object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:Jf)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(Hf(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return n=Jf.apply(void 0,o)(r.dispatch),Vf(Vf({},r),{},{dispatch:n})}}}((function(e){let{dispatch:t,getState:r}=e;const n=new Eu;return e=>a=>{const o=kd[a.type],i="function"==typeof o?o({client:n,dispatch:t,getState:r,next:e},a):e(a);if(a.type in Tp){const e=sd(r()),n="explorer/QUERY/LOCALE/UPDATE"===a.type;e&&!n||t(Td())}return i}}),(function(e){return"object"!=typeof window?e=>t=>e(t):(window.addEventListener("popstate",(t=>{t.state&&e.dispatch({type:"explorer/QUERY/INYECT",payload:t.state})})),t=>r=>{if("explorer/PERMALINK/UPDATE"!==r.type)return t(r);const n=e.getState(),a=Yp(n),o=Jp(n);if(null!=a[o.cube]){const e=Cd(n);if(window.location.search.slice(1)!==e){const t=`${window.location.pathname}?${e}`;window.history.pushState(o,"",t)}}})}))));document.querySelector("p#warning").remove(),G.render(e.exports.createElement((t=>e.exports.createElement(jo,{store:Xf},e.exports.createElement(Bf,{locale:t.serverLocale,src:t.serverUrl}))),{serverLocale:"en,es,fr",serverUrl:"/tesseract/"}),document.getElementById("app"));
